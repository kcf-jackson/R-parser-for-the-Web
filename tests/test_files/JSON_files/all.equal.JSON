[[],["<-","all.equal",["function",[{"target":"","current":"","...":""}],["UseMethod","\"all.equal\""]]],["<-","all.equal.default",["function",[{"target":"","current":"","...":""}],["{",["if",["||",["is.language","target"],["is.function","target"]],["return",["all.equal.language","target","current","..."]]],["if",["||",["is.environment","target"],["is.environment","current"]],["return",["all.equal.environment","target","current","..."]]],["if",["is.recursive","target"],["return",["all.equal.list","target","current","..."]]],["<-","msg",["switch",["mode","target"],{"integer":""},{"complex":""},{"numeric":["all.equal.numeric","target","current","..."]},{"character":["all.equal.character","target","current","..."]},{"logical":""},{"raw":["all.equal.raw","target","current","..."]},{"S4":["attr.all.equal","target","current","..."]},["if",["!=",["data.class","target"],["data.class","current"]],["{",["gettextf","\"target is %s, current is %s\"",["data.class","target"],["data.class","current"]]],"NULL"]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.numeric",["function",[{"target":"","current":"","tolerance":["sqrt",["$",".Machine","double.eps"]],"scale":"NULL","countEQ":"FALSE","formatFUN":["function",[{"err":"","what":""}],["format","err"]],"...":"","check.attributes":"TRUE"}],["{",["if",["!",["is.numeric","tolerance"]],["stop","\"'tolerance' should be numeric\""]],["if",["&&",["!",["is.numeric","scale"]],["!",["is.null","scale"]]],["stop","\"'scale' should be numeric or NULL\""]],["if",["!",["is.logical","check.attributes"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.attributes\""],{"domain":"NA"}]],["<-","msg",["if","check.attributes",["attr.all.equal","target","current",{"tolerance":"tolerance"},{"scale":"scale"},"..."]]],["if",["!=",["data.class","target"],["data.class","current"]],["{",["<-","msg",["c","msg",["paste0","\"target is \"",["data.class","target"],"\", current is \"",["data.class","current"]]]],["return","msg"]]],["<-","lt",["length","target"]],["<-","lc",["length","current"]],["<-","cplx",["is.complex","target"]],["if",["!=","lt","lc"],["{",["if",["!",["is.null","msg"]],["<-","msg",["[","msg",["-",["grep","\"\\\\bLengths\\\\b\"","msg"]]]]],["<-","msg",["c","msg",["paste0",["if","cplx","\"Complex\"","\"Numeric\""],"\": lengths (\"","lt","\", \"","lc","\") differ\""]]],["return","msg"]]],["<-","target",["as.vector","target"]],["<-","current",["as.vector","current"]],["<-","out",["is.na","target"]],["if",["any",["!=","out",["is.na","current"]]],["{",["<-","msg",["c","msg",["paste","\"'is.NA' value mismatch:\"",["sum",["is.na","current"]],"\"in current\"",["sum","out"],"\"in target\""]]],["return","msg"]]],["<-","out",["|","out",["==","target","current"]]],["if",["all","out"],["return",["if",["is.null","msg"],"TRUE","msg"]]],["if","countEQ",["{",["<-","N",["length","out"]],["<-","sabst0",["sum",["abs",["[","target","out"]]]]],["<-","sabst0","0"]],["<-","target",["[","target",["!","out"]]],["<-","current",["[","current",["!","out"]]],["if",["!","countEQ"],["<-","N",["length","target"]]],["if",["&&",["is.integer","target"],["is.integer","current"]],["<-","target",["as.double","target"]]],["<-","xy",["/",["sum",["abs",["-","target","current"]]],"N"]],["<-","what",["if",["is.null","scale"],["{",["<-","xn",["/",["(",["+","sabst0",["sum",["abs","target"]]]],"N"]],["if",["&&",["is.finite","xn"],[">","xn","tolerance"]],["{",["<-","xy",["/","xy","xn"]],"\"relative\""],"\"absolute\""]],["{",["stopifnot",["all",[">","scale","0"]]],["<-","xy",["/","xy","scale"]],["if",["all",["<",["abs",["-","scale","1"]],"1e-7"]],"\"absolute\"","\"scaled\""]]]],["if","cplx",["<-","what",["paste","what","\"Mod\""]]],["if",["||",["is.na","xy"],[">","xy","tolerance"]],["<-","msg",["c","msg",["paste","\"Mean\"","what","\"difference:\"",["formatFUN","xy","what"]]]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.character",["function",[{"target":"","current":"","...":"","check.attributes":"TRUE"}],["{",["if",["!",["is.logical","check.attributes"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.attributes\""],{"domain":"NA"}]],["<-","msg",["if","check.attributes",["attr.all.equal","target","current","..."]]],["if",["!=",["data.class","target"],["data.class","current"]],["{",["<-","msg",["c","msg",["paste0","\"target is \"",["data.class","target"],"\", current is \"",["data.class","current"]]]],["return","msg"]]],["<-","lt",["length","target"]],["<-","lc",["length","current"]],["if",["!=","lt","lc"],["{",["if",["!",["is.null","msg"]],["<-","msg",["[","msg",["-",["grep","\"\\\\bLengths\\\\b\"","msg"]]]]],["<-","msg",["c","msg",["paste0","\"Lengths (\"","lt","\", \"","lc","\") differ (string compare on first \"",["<-","ll",["min","lt","lc"]],"\")\""]]],["<-","ll",["seq_len","ll"]],["<-","target",["[","target","ll"]],["<-","current",["[","current","ll"]]]],["<-","nas",["is.na","target"]],["<-","nasc",["is.na","current"]],["if",["any",["!=","nas","nasc"]],["{",["<-","msg",["c","msg",["paste","\"'is.NA' value mismatch:\"",["sum","nasc"],"\"in current\"",["sum","nas"],"\"in target\""]]],["return","msg"]]],["<-","ne",["&",["!","nas"],["(",["!=","target","current"]]]],["if",["&&",["!",["any","ne"]],["is.null","msg"]],"TRUE",["if",["==",["sum","ne"],"1L"],["c","msg",["paste","\"1 string mismatch\""]],["if",[">",["sum","ne"],"1L"],["c","msg",["paste",["sum","ne"],"\"string mismatches\""]],"msg"]]]]]],["<-","all.equal.envRefClass",["function",[{"target":"","current":"","...":""}],["{",["if",["!",[["::","methods","is"],"target","\"envRefClass\""]],["return","\"'target' is not an envRefClass\""]],["if",["!",[["::","methods","is"],"current","\"envRefClass\""]],["return","\"'current' is not an envRefClass\""]],["if",["!",["isTRUE",["<-","ae",["all.equal",["class","target"],["class","current"],"..."]]]],["return",["sprintf","\"Classes differ: %s\"",["paste","ae",{"collapse":"\" \""}]]]],["<-","getCl",["function",[{"x":""}],["{",["<-","cl",["tryCatch",[["$","x","getClass"],{}],{"error":["function",[{"e":""}],"NULL"]}]],["if",["is.null","cl"],["class","x"],"cl"]]]],["if",["!",["identical",["<-","cld",["getCl","target"]],["<-","c2",["getCl","current"]]]],["{",["<-","hasCA",["any",["==","\"check.attributes\"",["names",["list","..."]]]]],["<-","ae",["if","hasCA",["all.equal","cld","c2","..."],["all.equal","cld","c2",{"check.attributes":"FALSE"},"..."]]],["if",["&&",["isTRUE","ae"],["!","hasCA"]],["<-","ae",["all.equal","cld","c2","..."]]],["return",["sprintf","\"Class definitions are not identical%s\"",["if",["isTRUE","ae"],"\"\"",["paste","\":\"","ae",{"collapse":"\" \""}]]]]]],["if",["!",["isS4","cld"]],["return",["if",["identical","target","current"],"TRUE","\"different prototypical 'envRefClass' objects\""]]],["<-","flds",["names",["@","cld","fieldClasses"]]],["<-","asL",["function",[{"O":""}],["sapply","flds",["function",[{"ch":""}],["[[","O","ch"]],{"simplify":"FALSE"}]]],["<-","n",["all.equal.list",["asL","target"],["asL","current"],"..."]],["<-","sns",["names",["@","cld","slots"]]],["<-","sns",["[","sns",["!=","sns","\".xData\""]]],["<-","msg",["if",["length","sns"],["{",["<-","L",["lapply","sns",["function",[{"sn":""}],["all.equal",[["::","methods","slot"],"target","sn"],[["::","methods","slot"],"current","sn"],"..."]]]],["unlist",["[","L",["vapply","L","is.character","NA"]]]]]],["if",["is.character","n"],["<-","msg",["c","msg","n"]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.environment",["function",[{"target":"","current":"","all.names":"TRUE","...":""}],["{",["if",["!",["is.environment","target"]],["return","\"'target' is not an environment\""]],["if",["!",["is.environment","current"]],["return","\"'current' is not an environment\""]],["<-","ae.run",["dynGet","\"__all.eq.E__\"","NULL"]],["if",["is.null","ae.run"],["<-","\"__all.eq.E__\"",["environment",{}]],["{",["<-","do1",["function",[{"em":""}],["{",["if",["&&",["identical","target",["$","em","target"]],["identical","current",["$","em","current"]]],"TRUE",["if",["!",["is.null",["$","em","mm"]]],["do1",["$","em","mm"]],["{",["<-","e",["new.env",{"parent":["emptyenv",{}]}]],["<-",["$","e","target"],"target"],["<-",["$","e","current"],"current"],["<-",["$","em","mm"],"e"],"FALSE"]]]]]],["if",["do1","ae.run"],["return","TRUE"]]]],["all.equal.list",["as.list.environment","target",{"all.names":"all.names"},{"sorted":"TRUE"}],["as.list.environment","current",{"all.names":"all.names"},{"sorted":"TRUE"}],"..."]]]],["<-","all.equal.factor",["function",[{"target":"","current":"","...":"","check.attributes":"TRUE"}],["{",["if",["!",["inherits","target","\"factor\""]],["return","\"'target' is not a factor\""]],["if",["!",["inherits","current","\"factor\""]],["return","\"'current' is not a factor\""]],["<-","msg",["if","check.attributes",["attr.all.equal","target","current","..."]]],["<-","n",["all.equal",["as.character","target"],["as.character","current"],{"check.attributes":"check.attributes"},"..."]],["if",["is.character","n"],["<-","msg",["c","msg","n"]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.formula",["function",[{"target":"","current":"","...":""}],["{",["if",["!=",["length","target"],["length","current"]],["return",["paste0","\"target, current differ in having response: \"",["==",["length","target"],"3L"],"\", \"",["==",["length","current"],"3L"]]]],["if",["!",["identical",["deparse","target"],["deparse","current"]]],"\"formulas differ in contents\"","TRUE"]]]],["<-","all.equal.language",["function",[{"target":"","current":"","...":""}],["{",["<-","mt",["mode","target"]],["<-","mc",["mode","current"]],["if",["&&",["==","mt","\"expression\""],["==","mc","\"expression\""]],["return",["all.equal.list","target","current","..."]]],["<-","ttxt",["paste",["deparse","target"],{"collapse":"\"\\n\""}]],["<-","ctxt",["paste",["deparse","current"],{"collapse":"\"\\n\""}]],["<-","msg",["c",["if",["!=","mt","mc"],["paste0","\"Modes of target, current: \"","mt","\", \"","mc"]],["if",["!=","ttxt","ctxt"],["{",["if",["pmatch","ttxt","ctxt","0L"],"\"target is a subset of current\"",["if",["pmatch","ctxt","ttxt","0L"],"\"current is a subset of target\"","\"target, current do not match when deparsed\""]]]]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.list",["function",[{"target":"","current":"","...":"","check.attributes":"TRUE","use.names":"TRUE"}],["{",["if",["!",["is.logical","check.attributes"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.attributes\""],{"domain":"NA"}]],["if",["!",["is.logical","use.names"]],["stop",["gettextf","\"'%s' must be logical\"","\"use.names\""],{"domain":"NA"}]],["<-","msg",["if","check.attributes",["attr.all.equal","target","current","..."]]],["<-","target",["unclass","target"]],["<-","current",["unclass","current"]],["if",["&&",["!",["is.list","target"]],["!",["is.vector","target"]]],["return",["c","msg","\"target is not list-like\""]]],["if",["&&",["!",["is.list","current"]],["!",["is.vector","current"]]],["return",["c","msg","\"current is not list-like\""]]],["if",["!=",["(",["<-","n",["length","target"]]],["length","current"]],["{",["if",["!",["is.null","msg"]],["<-","msg",["[","msg",["-",["grep","\"\\\\bLengths\\\\b\"","msg"]]]]],["<-","n",["min","n",["length","current"]]],["<-","msg",["c","msg",["paste","\"Length mismatch: comparison on first\"","n","\"components\""]]]]],["<-","iseq",["seq_len","n"]],["if","use.names",["<-","use.names",["(",["&&",["==",["length",["<-","nt",["[",["names","target"],"iseq"]]],"n"],["==",["length",["<-","nc",["[",["names","current"],"iseq"]]],"n"]]]]],["for","i","iseq",["{",["<-","mi",["all.equal",["[[","target","i"],["[[","current","i"],{"check.attributes":"check.attributes"},{"use.names":"use.names"},"..."]],["if",["is.character","mi"],["<-","msg",["c","msg",["paste0","\"Component \"",["if",["&&","use.names",["==",["[","nt","i"],["[","nc","i"]]],["dQuote",["[","nt","i"]],"i"],"\": \"","mi"]]]]]],["if",["is.null","msg"],"TRUE","msg"]]]],["<-","all.equal.raw",["function",[{"target":"","current":"","...":"","check.attributes":"TRUE"}],["{",["if",["!",["is.logical","check.attributes"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.attributes\""],{"domain":"NA"}]],["<-","msg",["if","check.attributes",["attr.all.equal","target","current","..."]]],["if",["!=",["data.class","target"],["data.class","current"]],["{",["<-","msg",["c","msg",["paste0","\"target is \"",["data.class","target"],"\", current is \"",["data.class","current"]]]],["return","msg"]]],["<-","lt",["length","target"]],["<-","lc",["length","current"]],["if",["!=","lt","lc"],["{",["if",["!",["is.null","msg"]],["<-","msg",["[","msg",["-",["grep","\"\\\\bLengths\\\\b\"","msg"]]]]],["<-","msg",["c","msg",["paste0","\"Lengths (\"","lt","\", \"","lc","\") differ (comparison on first \"",["<-","ll",["min","lt","lc"]],"\" components)\""]]],["<-","ll",["seq_len","ll"]],["<-","target",["[","target","ll"]],["<-","current",["[","current","ll"]]]],["<-","nas",["is.na","target"]],["<-","nasc",["is.na","current"]],["if",["any",["!=","nas","nasc"]],["{",["<-","msg",["c","msg",["paste","\"'is.NA' value mismatch:\"",["sum","nasc"],"\"in current\"",["sum","nas"],"\"in target\""]]],["return","msg"]]],["<-","ne",["&",["!","nas"],["(",["!=","target","current"]]]],["if",["&&",["!",["any","ne"]],["is.null","msg"]],"TRUE",["if",["==",["sum","ne"],"1L"],["c","msg",["paste","\"1 element mismatch\""]],["if",[">",["sum","ne"],"1L"],["c","msg",["paste",["sum","ne"],"\"element mismatches\""]],"msg"]]]]]],["<-","attr.all.equal",["function",[{"target":"","current":"","...":"","check.attributes":"TRUE","check.names":"TRUE"}],["{",["if",["!",["is.logical","check.attributes"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.attributes\""],{"domain":"NA"}]],["if",["!",["is.logical","check.names"]],["stop",["gettextf","\"'%s' must be logical\"","\"check.names\""],{"domain":"NA"}]],["<-","msg","NULL"],["if",["!=",["mode","target"],["mode","current"]],["<-","msg",["paste0","\"Modes: \"",["mode","target"],"\", \"",["mode","current"]]]],["if",["!=",["length","target"],["length","current"]],["<-","msg",["c","msg",["paste0","\"Lengths: \"",["length","target"],"\", \"",["length","current"]]]]],["<-","ax",["attributes","target"]],["<-","ay",["attributes","current"]],["if","check.names",["{",["<-","nx",["names","target"]],["<-","ny",["names","current"]],["if",["|",["(",["<-","lx",["length","nx"]]],["(",["<-","ly",["length","ny"]]]],["{",["<-",["$","ax","names"],["<-",["$","ay","names"],"NULL"]],["if",["&&","lx","ly"],["{",["if",["is.character",["<-","m",["all.equal.character","nx","ny",{"check.attributes":"check.attributes"}]]],["<-","msg",["c","msg",["paste","\"Names:\"","m"]]]]],["if","lx",["<-","msg",["c","msg","\"names for target but not for current\""]],["<-","msg",["c","msg","\"names for current but not for target\""]]]]]]],["{",["<-",["[[","ax","\"names\""],"NULL"],["<-",["[[","ay","\"names\""],"NULL"]]],["if",["&&","check.attributes",["(",["||",["length","ax"],["length","ay"]]]],["{",["<-","nx",["names","ax"]],["<-","ny",["names","ay"]],["if",["length","nx"],["<-","ax",["[","ax",["order","nx"]]]],["if",["length","ny"],["<-","ay",["[","ay",["order","ny"]]]],["<-","tt",["all.equal","ax","ay","...",{"check.attributes":"check.attributes"}]],["if",["is.character","tt"],["<-","msg",["c","msg",["paste","\"Attributes: <\"","tt","\">\""]]]]]],"msg"]]],["<-","all.equal.POSIXt",["function",[{"target":"","current":"","...":"","tolerance":"1e-3","scale":""}],["{",["<-","target",["as.POSIXct","target"]],["<-","current",["as.POSIXct","current"]],["check_tzones","target","current"],["<-",["attr","target","\"tzone\""],["<-",["attr","current","\"tzone\""],"NULL"]],["all.equal.numeric","target","current","...",{"tolerance":"tolerance"},{"scale":"1"}]]]]]
