[[],["<-","vignette",["function",[{"topic":"","package":"NULL","lib.loc":"NULL","all":"TRUE"}],["{",["<-","vinfo",[["::","tools","getVignetteInfo"],"package","lib.loc","all"]],["if",["!",["missing","topic"]],["{",["<-","topic",["[","topic","1L"]],["<-","vinfo",["[","vinfo",["==",["[","vinfo",{},"\"Topic\""],"topic"],{},{"drop":"FALSE"}]],["if",["length","vinfo"],["{",["<-","pos",["which",["file_test","\"-f\"",["file.path",["[","vinfo",{},"\"Dir\""],"\"doc\"",["[","vinfo",{},"\"PDF\""]]]]],["if",["!",["length","pos"]],["{",["<-","z",["as.list",["[","vinfo","1L",{}]]],["<-",["$","z","PDF"],"\"\""]],["{",["if",[">",["length","pos"],"1L"],["{",["<-","pos",["[","pos","1L"]],["warning",["gettextf","\"vignette %s found more than once,\\nusing the one found in %s\"",["sQuote","topic"],["sQuote",["file.path",["[","vinfo","pos","\"Dir\""],"\"doc\""]]],{"call.":"FALSE"},{"domain":"NA"}]]],["<-","z",["as.list",["[","vinfo","pos",{}]]]]],["if",["!",["file_test","\"-f\"",["file.path",["$","z","Dir"],"\"doc\"",["$","z","R"]]]],["<-",["$","z","R"],"\"\""]],["<-",["class","z"],"\"vignette\""],["return","z"]],["warning",["gettextf","\"vignette %s not found\"",["sQuote","topic"]],{"call.":"FALSE"},{"domain":"NA"}]]],["{",["<-","title",["if",["nrow","vinfo"],["{",["paste",["[","vinfo",{},"\"Title\""],["paste0",["rep.int","\"(source\"",["nrow","vinfo"]],["ifelse",["nzchar",["[","vinfo",{},"\"PDF\""]],["paste0","\", \"",[["::","tools","file_ext"],["[","vinfo",{},"\"PDF\""]]],"\"\""],"\")\""]]],["character",{}]]],["<-","db",["cbind",{"Package":["basename",["[","vinfo",{},"\"Dir\""]]},{"LibPath":["dirname",["[","vinfo",{},"\"Dir\""]]},{"Item":["[","vinfo",{},"\"Topic\""]},{"Title":"title"}]],["<-","footer",["if","all","NULL",["paste0","\"Use \"",["sQuote","\"vignette(all = TRUE)\""],"\"\\n\"","\"to list the vignettes in all *available* packages.\""]]],["structure",{"class":"\"packageIQR\""},["list",{"type":"\"vignette\""},{"title":"\"Vignettes\""},{"header":"NULL"},{"results":"db"},{"footer":"footer"}]]]]]]],["<-","print.vignette",["function",[{"x":"","...":""}],["{",["if",["nzchar",["<-","out",["$","x","PDF"]]],["{",["<-","ext",[["::","tools","file_ext"],"out"]],["<-","port",["if",["==",["tolower","ext"],"\"html\""],[["::","tools","startDynamicHelp"],"NA"],"0L"]],["<-","out",["if",[">","port","0L"],["sprintf","\"http://127.0.0.1:%d/library/%s/doc/%s\"","port",["basename",["$","x","Dir"]],"out"],["file.path",["$","x","Dir"],"\"doc\"","out"]]],["if",["==",["tolower","ext"],"\"pdf\""],["{",["<-","pdfviewer",["getOption","\"pdfviewer\""]],["if",["identical","pdfviewer","\"false\""],["{"],["if",["&&",["==",["$",".Platform","OS.type"],"\"windows\""],["identical","pdfviewer",["file.path",["R.home","\"bin\""],"\"open.exe\""]]],["shell.exec","out"],["system2","pdfviewer",["shQuote","out"],{"wait":"FALSE"}]]]],["browseURL","out"]]],["{",["warning",["gettextf","\"vignette %s has no PDF/HTML\"",["sQuote",["$","x","Topic"]]],{"call.":"FALSE"},{"domain":"NA"}]]],["invisible","x"]]]],["<-","getRcode",["function",[{"x":"","...":""}],["UseMethod","\"getRcode\""]]],["<-","getRcode.vignette",["function",[{"x":"","strict":"TRUE","...":""}],["{",["if",["nzchar",["<-","p",["$","x","R"]]],["{",["file.path",["$","x","Dir"],"\"doc\"","p"]],["{",[["(",["if","strict","stop","warning"]],["gettextf","\"vignette %s has no R code\"",["sQuote",["$","x","Topic"]]],{"call.":"FALSE"},{"domain":"NA"}]]]]]],["<-","edit.vignette",["function",[{"name":"","...":""}],["{",["if",["is.character",["<-","src",["getRcode","name",{"strict":"FALSE"}]]],["{",["<-","f",["tempfile",["$","name","Topic"],{"fileext":"\".R\""}]],["file.copy","src","f"],["file.edit",{"file":"f"},"..."]]]]]]]
