[[],["<-",".build_data_index",["function",[{"dataDir":"","contents":""}],["{",["if",["!",["dir.exists","dataDir"]],["stop",["gettextf","\"directory '%s' does not exist\"","dataDir"],{"domain":"NA"}]],["<-","dataTopics",["list_data_in_pkg",{"dataDir":"dataDir"}]],["if",["!",["length","dataTopics"]],["return",["matrix","\"\"","0L","2L"]]],["<-",["names","dataTopics"],["paste0",["names","dataTopics"],"\"/\""]],["<-","datasets",["unlist","dataTopics"]],["if",["!",["length","datasets"]],["return",["matrix","\"\"","0L","2L"]]],["<-",["names","datasets"],["sub","\"/[^/]*$\"","\"\"",["names","datasets"]]],["<-","datasets",["sort","datasets"]],["<-","dataIndex",["cbind","datasets","\"\"",{"deparse.level":"0L"}]],["<-",["dimnames","dataIndex"],"NULL"],["if",["&&",["length","datasets"],["NROW","contents"]],["{",["<-","aliasIndices",["rep.int",["seq_len",["NROW","contents"]],["lengths",["$","contents","Aliases"]]]],["<-","idx",["match","datasets",["unlist",["$","contents","Aliases"]],"0L"]],["<-",["[","dataIndex",["which",["!=","idx","0L"]],"2L"],["[","contents",["[","aliasIndices","idx"],"\"Title\""]]]],["if",["length","datasets"],["<-",["[","dataIndex",{},"1L"],["as.vector",["ifelse",["==","datasets",["names","datasets"]],"datasets",["paste0","datasets","\" (\"",["names","datasets"],"\")\""]]]]],"dataIndex"]]],["<-",".build_demo_index",["function",[{"demoDir":""}],["{",["if",["!",["dir.exists","demoDir"]],["stop",["gettextf","\"directory '%s' does not exist\"","demoDir"],{"domain":"NA"}]],["<-","demoFiles",["list_files_with_type","demoDir","\"demo\""]],["<-","demoTopics",["unique",["basename",["file_path_sans_ext","demoFiles"]]]],["if",["!",["length","demoTopics"]],["return",["matrix","\"\"","0L","2L"]]],["<-","demoIndex",["cbind","demoTopics","\"\""]],["if",["file_test","\"-f\"",["<-","INDEX",["file.path","demoDir","\"00Index\""]]],["{",["<-","demoEntries",["tryCatch",["read.00Index","INDEX"],{"error":"identity"}]],["if",["inherits","demoEntries","\"error\""],["warning",["gettextf","\"cannot read index information in file '%s'\"","INDEX"],{"domain":"NA"}],["{",["<-","idx",["match","demoTopics",["[","demoEntries",{},"1L"],"0L"]],["<-",["[","demoIndex",["which",["!=","idx","0L"]],"2L"],["[","demoEntries","idx","2L"]]]]]],["<-",["dimnames","demoIndex"],"NULL"],"demoIndex"]]],["<-",".check_demo_index",["function",[{"demoDir":""}],["{",["if",["!",["dir.exists","demoDir"]],["stop",["gettextf","\"directory '%s' does not exist\"","demoDir"],{"domain":"NA"}]],["<-","info_from_build",[".build_demo_index","demoDir"]],["<-","info_from_index",["tryCatch",["read.00Index",["file.path","demoDir","\"00Index\""]],{"error":["function",[{"e":""}],["stop",["gettextf","\"cannot read index information in file '%s'\"",["file.path","demoDir","\"00Index\""]],{"domain":"NA"}]]}]],["<-","bad_entries",["list",{"missing_from_index":["[","info_from_build",["grep","\"^[[:space:]]*$\"",["[","info_from_build",{},"2L"]],"1L"]},{"missing_from_demos":["[","info_from_index",["%notin%",["[","info_from_index",{},"1L"],["[","info_from_build",{},"1L"]],"1L"]}]],["<-",["class","bad_entries"],"\"check_demo_index\""],"bad_entries"]]],["<-","print.check_demo_index",["function",[{"x":"","...":""}],["{",["if",["length",["<-","bad",["$","x","missing_from_index"]]],["{",["writeLines",["c","\"Demos with missing or empty index information:\"",["paste0","\"  \"","bad"]]]]],["if",["length",["<-","bad",["$","x","missing_from_demos"]]],["{",["writeLines",["c","\"Demo index entries without corresponding demo:\"",["paste0","\"  \"","bad"]]]]],["invisible","x"]]]],["<-",".build_hsearch_index",["function",[{"contents":"","packageName":"","defaultEncoding":"NULL"}],["{",["<-","dbAliases",["<-","dbConcepts",["<-","dbKeywords",["matrix",["character",{}],{"ncol":"3L"}]]]],["if",[">",["(",["<-","nr",["NROW","contents"]]],"0L"],["{",["<-","IDs",["seq_len","nr"]],["if",["!",["is.data.frame","contents"]],["{",["<-",["colnames","contents"],["c","\"Name\"","\"Aliases\"","\"Title\"","\"Keywords\""]],["<-","base",["[","contents",{},["c","\"Name\"","\"Title\""],{"drop":"FALSE"}]],["<-","aliases",["strsplit",["[","contents",{},"\"Aliases\""],"\" +\""]],["<-","encoding","NULL"]],["{",["<-","base",["as.matrix",["[","contents",{},["c","\"Name\"","\"Title\""]]]],["<-","aliases",["[","contents",{},"\"Aliases\""]],["<-","encoding",["$","contents","Encoding"]]]],["if",["is.null","encoding"],["<-","encoding",["character",{"length":"nr"}]]],["if",["!",["is.null","defaultEncoding"]],["<-",["[","encoding",["!",["nzchar","encoding"]]],"defaultEncoding"]],["<-","keywords",["[","contents",{},"\"Keywords\""]],["<-","dbBase",["cbind","packageName","\"\"","IDs","base",{"topic":["sapply","aliases","\"[\"","1L"]},"encoding"]],["if",["length",["<-","tmp",["unlist","aliases"]]],["<-","dbAliases",["cbind","tmp",["rep.int","IDs",["lengths","aliases"]],"packageName"]]],["if",["length",["<-","tmp",["unlist","keywords"]]],["<-","dbKeywords",["cbind","tmp",["rep.int","IDs",["lengths","keywords"]],"packageName"]]],["if",["%in%","\"Concepts\"",["colnames","contents"]],["{",["<-","concepts",["[","contents",{},"\"Concepts\""]],["if",["length",["<-","tmp",["unlist","concepts"]]],["<-","dbConcepts",["cbind","tmp",["rep.int","IDs",["lengths","concepts"]],"packageName"]]]]]],["<-","dbBase",["matrix",["character",{}],{"ncol":"7L"}]]],["<-",["colnames","dbBase"],["$","hsearch_index_colnames","Base"]],["<-",["colnames","dbAliases"],["$","hsearch_index_colnames","Aliases"]],["<-",["colnames","dbKeywords"],["$","hsearch_index_colnames","Keywords"]],["<-",["colnames","dbConcepts"],["$","hsearch_index_colnames","Concepts"]],["list","dbBase","dbAliases","dbKeywords","dbConcepts"]]]],["<-","hsearch_index_colnames",["list",{"Base":["c","\"Package\"","\"LibPath\"","\"ID\"","\"Name\"","\"Title\"","\"Topic\"","\"Encoding\""]},{"Aliases":["c","\"Alias\"","\"ID\"","\"Package\""]},{"Keywords":["c","\"Keyword\"","\"ID\"","\"Package\""]},{"Concepts":["c","\"Concept\"","\"ID\"","\"Package\""]}]],["<-",".build_links_index",["function",[{"contents":"","package":""}],["{",["if",["length","contents"],["{",["<-","aliases",["$","contents","Aliases"]],["<-","lens",["lengths","aliases"]],["<-","files",["sub","\"\\\\.[Rr]d$\"","\"\\\\.html\"",["$","contents","File"]]],["structure",["file.path","\"../..\"","package","\"html\"",["rep.int","files","lens"]],{"names":["unlist","aliases"]}]],["character",{}]]]]]]
