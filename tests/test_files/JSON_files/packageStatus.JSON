[[],["<-","packageStatus",["function",[{"lib.loc":"NULL","repositories":"NULL","method":"","type":["getOption","\"pkgType\""],"...":""}],["{",["<-","newestVersion",["function",[{"x":""}],["{",["<-","vers",["package_version","x"]],["<-","max",["[","vers","1L"]],["for","i",["seq_along","vers"],["if",["<","max",["[","vers","i"]],["<-","max",["[","vers","i"]]]],["which.max",["==","vers","max"]]]]],["if",["is.null","lib.loc"],["<-","lib.loc",[".libPaths",{}]]],["if",["is.null","repositories"],["<-","repositories",["contrib.url",["getOption","\"repos\""],{"type":"type"}]]],["<-","char2df",["function",[{"x":""}],["{",["<-","y",["list",{}]],["for","k",[":","1L",["ncol","x"]],["<-",["[[","y","k"],["[","x",{},"k"]]],["<-",["attr","y","\"names\""],["colnames","x"]],["<-",["attr","y","\"row.names\""],["make.unique",["[[","y","1L"]]],["<-",["class","y"],"\"data.frame\""],"y"]]],["<-","y",["char2df",["installed.packages",{"lib.loc":"lib.loc"},"..."]]],["<-",["[","y",{},"\"Status\""],"\"ok\""],["<-","z",["available.packages","repositories","method","..."]],["<-","ztab",["table",["[","z",{},"\"Package\""]]],["for","pkg",["[",["names","ztab"],[">","ztab","1"]],["{",["<-","zrow",["which",["==",["[","z",{},"\"Package\""],"pkg"]]],["<-","znewest",["newestVersion",["[","z","zrow","\"Version\""]]],["<-","z",["[","z",["-",["[","zrow",["-","znewest"]]],{}]]]],["<-","z",["cbind","z",{"Status":"\"not installed\""}]],["<-",["[","z",["%in%",["[","z",{},"\"Package\""],["$","y","Package"]],"\"Status\""],"\"installed\""],["<-","z",["char2df","z"]],["<-",["attr","z","\"row.names\""],["$","z","Package"]],["for","k",[":","1L",["nrow","y"]],["{",["<-","pkg",["[","y","k","\"Package\""]],["if",["%in%","pkg",["$","z","Package"]],["{",["if",["<",["package_version",["[","y","k","\"Version\""]],["package_version",["[","z","pkg","\"Version\""]]],["{",["<-",["[","y","k","\"Status\""],"\"upgrade\""]]]],["{",["if",["!",["(",["%in%",["[","y","k","\"Priority\""],"\"base\""]]],["<-",["[","y","k","\"Status\""],"\"unavailable\""]]]]]],["<-",["$","y","LibPath"],["factor",["$","y","LibPath"],{"levels":"lib.loc"}]],["<-",["$","y","Status"],["factor",["$","y","Status"],{"levels":["c","\"ok\"","\"upgrade\"","\"unavailable\""]}]],["<-",["$","z","Repository"],["factor",["$","z","Repository"],{"levels":"repositories"}]],["<-",["$","z","Status"],["factor",["$","z","Status"],{"levels":["c","\"installed\"","\"not installed\""]}]],["<-","retval",["list",{"inst":"y"},{"avail":"z"}]],["<-",["class","retval"],"\"packageStatus\""],"retval"]]],["<-","summary.packageStatus",["function",[{"object":"","...":""}],["{",["<-","Libs",["levels",["$",["$","object","inst"],"LibPath"]]],["<-","Repos",["levels",["$",["$","object","avail"],"Repository"]]],["<-","Libs",["lapply",["split",["$","object","inst"],["$",["$","object","inst"],"LibPath"]],["function",[{"x":""}],["tapply",["$","x","Package"],["$","x","Status"],["function",[{"x":""}],["sort",["as.character","x"]]]]]]],["<-","Repos",["lapply",["split",["$","object","avail"],["$",["$","object","avail"],"Repository"]],["function",[{"x":""}],["tapply",["$","x","Package"],["$","x","Status"],["function",[{"x":""}],["sort",["as.character","x"]]]]]]],["<-",["$","object","Libs"],"Libs"],["<-",["$","object","Repos"],"Repos"],["<-",["class","object"],["c","\"summary.packageStatus\"","\"packageStatus\""]],"object"]]],["<-","print.summary.packageStatus",["function",[{"x":"","...":""}],["{",["cat","\"\\nInstalled packages:\\n\""],["cat","\"-------------------\\n\""],["for","k",["seq_along",["$","x","Libs"]],["{",["cat","\"\\n*** Library \"",["[",["names",["$","x","Libs"]],"k"],"\"\\n\"",{"sep":"\"\""}],["print",["[[",["$","x","Libs"],"k"],"..."]]],["cat","\"\\n\\nAvailable packages:\\n\""],["cat","\"-------------------\\n\""],["cat","\"(each package appears only once)\\n\""],["for","k",["seq_along",["$","x","Repos"]],["{",["cat","\"\\n*** Repository \"",["[",["names",["$","x","Repos"]],"k"],"\"\\n\"",{"sep":"\"\""}],["print",["[[",["$","x","Repos"],"k"],"..."]]],["invisible","x"]]]],["<-","print.packageStatus",["function",[{"x":"","...":""}],["{",["cat","\"Number of installed packages:\\n\""],["print",["table",["$",["$","x","inst"],"LibPath"],["$",["$","x","inst"],"Status"]],"..."],["cat","\"\\nNumber of available packages (each package counted only once):\\n\""],["print",["table",["$",["$","x","avail"],"Repository"],["$",["$","x","avail"],"Status"]],"..."],["invisible","x"]]]],["<-","update.packageStatus",["function",[{"object":"","lib.loc":["levels",["$",["$","object","inst"],"LibPath"]],"repositories":["levels",["$",["$","object","avail"],"Repository"]],"...":""}],["{",["packageStatus",{"lib.loc":"lib.loc"},{"repositories":"repositories"}]]]],["<-","upgrade",["function",[{"object":"","...":""}],["UseMethod","\"upgrade\""]]],["<-","upgrade.packageStatus",["function",[{"object":"","ask":"TRUE","...":""}],["{",["<-","update","NULL"],["<-","old",["which",["==",["$",["$","object","inst"],"Status"],"\"upgrade\""]]],["if",["==",["length","old"],"0L"],["{",["cat","\"Nothing to do!\\n\""],["return",["invisible",{}]]]],["<-","askprint",["function",[{"x":""}],["write.table","x",{"row.names":"FALSE"},{"col.names":"FALSE"},{"quote":"FALSE"},{"sep":"\" at \""}]]],["<-","haveasked",["character",{}]],["if","ask",["{",["for","k","old",["{",["<-","pkg",["[",["$","object","inst"],"k","\"Package\""]],["<-","tmpstring",["paste","pkg",["as.character",["[",["$","object","inst"],"k","\"LibPath\""]]]],["if",["%in%","tmpstring","haveasked"],["next"]],["<-","haveasked",["c","haveasked","tmpstring"]],["cat","\"\\n\""],["cat","pkg","\":\\n\""],["askprint",["[",["$","object","inst"],"k",["c","\"Version\"","\"LibPath\""]]],["askprint",["[",["$","object","avail"],"pkg",["c","\"Version\"","\"Repository\""]]],["<-","answer",["askYesNo","\"Update?\""]],["if",["is.na","answer"],["{",["cat","\"cancelled by user\\n\""],["return",["invisible",{}]]]],["if",["isTRUE","answer"],["<-","update",["rbind","update",["c","pkg",["as.character",["[",["$","object","inst"],"k","\"LibPath\""]],["as.character",["[",["$","object","avail"],"pkg","\"Repository\""]]]]]]]]],["{",["<-","pkgs",["[",["$","object","inst"],{},"\"Package\""]],["<-","update",["cbind","pkgs",["as.character",["[",["$","object","inst"],{},"\"LibPath\""]],["as.character",["[",["$","object","avail"],"pkgs","\"Repository\""]]]],["<-","update",["[","update","old",{},{"drop":"FALSE"}]]]],["if",["length","update"],["{",["for","repo",["unique",["[","update",{},"3"]],["{",["<-","ok",["==",["[","update",{},"3"],"repo"]],["install.packages",["[","update","ok","1"],["[","update","ok","2"],{"contriburl":"repo"},"..."]]]]]]]]]
