[[],["<-","is",["function",[{"object":"","class2":""}],["{",["<-","class1",["class","object"]],["<-","S3Case",[">",["length","class1"],"1L"]],["if","S3Case",["<-","class1",["[[","class1","1L"]]],["if",["missing","class2"],["return",["extends","class1"]]],["<-","class1Def",["getClassDef","class1"]],["if",["is.null","class1Def"],["return",["inherits","object","class2"]]],["if",["is.character","class2"],["{",["<-","class2Def",["getClassDef","class2",[".classDefEnv","class1Def"],["if",["!",["is.null",["<-","package",["packageSlot","class2"]]]],"package",["getPackageName",["topenv",["parent.frame",{}]]]]]]],["{",["<-","class2Def","class2"],["<-","class2",["@","class2Def","className"]]]],["<-","S3Case",["||","S3Case",["(",["&&",["is.object","object"],["!",["isS4","object"]]]]]],["<-","S3Case",["&&","S3Case",["(",["||",["||",["is.null","class2Def"],["%in%","class2",".BasicClasses"]],["extends","class2Def","\"oldClass\""]]]]],["if","S3Case",["inherits","object","class2"],["if",["||",[".identC","class1","class2"],[".identC","class2","\"ANY\""]],"TRUE",["{",["if",["!",["is.null",["<-","contained",["[[",["@","class1Def","contains"],"class2"]]]],["||",["@","contained","simple"],[["@","contained","test"],"object"]],["if",["is.null","class2Def"],"FALSE",["if",["&&",["!",[".identC",["class","class2Def"],"\"classRepresentation\""]],["isClassUnion","class2Def"]],["any",["%in%",["c","class1",["names",["@","class1Def","contains"]]],["names",["@","class2Def","subclasses"]]]],["{",["<-","ext",["[[",["@","class2Def","subclasses"],"class1"]],["&&",["!",["is.null","ext"]],["(",["||",["@","ext","simple"],[["@","ext","test"],"object"]]]]]]]]]]]]]],["<-","extends",["function",[{"class1":"","class2":"","maybe":"TRUE","fullInfo":"FALSE"}],["{",["if",["is.character","class1"],["{",["if",[">",["length","class1"],"1L"],["<-","class1",["[[","class1","1L"]]],["<-","classDef1",["getClassDef","class1"]]],["if",["is","class1","\"classRepresentation\""],["{",["<-","classDef1","class1"],["<-","class1",["@","classDef1","className"]]],["stop","\"'class1' must be the name of a class or a class definition\""]]],["if",["missing","class2"],["{",["if",["is.null","classDef1"],["return","class1"]],["<-","ext",["@","classDef1","contains"]],["if",["&&",["!",["isTRUE","maybe"]],[">",["length","ext"],"0"]],["{",["<-","noTest",["vapply","ext",["function",[{"obj":""}],["isTRUE",["body",["@","obj","test"]]]],"NA"]],["<-","ext",["[","ext","noTest"]]]],["if","fullInfo",["{",["<-",["[[","ext","class1"],"TRUE"],["return","ext"]],["return",["c","class1",["names","ext"]]]]]],["<-","value","NULL"],["if",["&&",["is.character","class2"],["==",["length","class2"],"1L"]],["{",["if",["||",[".identC",["[[","class1","1L"],"class2"],[".identC","class2","\"ANY\""]],["return","TRUE"]],["if",["&&",["!",["is.null","classDef1"]],["%in%","class2",["names",["@","classDef1","contains"]]]],["<-","value",["[[",["@","classDef1","contains"],"class2"]],["<-","classDef2",["getClassDef","class2"]]]],["if",["is","class2","\"classRepresentation\""],["{",["<-","classDef2","class2"],["<-","class2",["@","class2","className"]]],["stop","\"'class2' must be the name of a class or a class definition\""]]],["if",["is.null","value"],["<-","value",["possibleExtends","class1","class2","classDef1","classDef2"]]],["if","fullInfo","value",["if",["is.logical","value"],"value",["if",["||",["@","value","simple"],["isTRUE",["body",["@","value","test"]]]],"TRUE","maybe"]]]]]],["<-",".specialVirtual",["c","\"oldClass\""]],["<-","setIs",["function",[{"class1":"","class2":"","test":"NULL","coerce":"NULL","replace":"NULL","by":["character",{}],"where":["topenv",["parent.frame",{}]],"classDef":["getClass","class1","TRUE",{"where":"where"}],"extensionObject":"NULL","doComplete":"TRUE"}],["{",["<-","where",["as.environment","where"]],["<-","classDef2",["getClassDef","class2","where"]],["if",["is.null","classDef2"],["stop",["gettextf","\"class %s has no visible definition from package or environment %s\"",["dQuote","class2"],["sQuote",["getPackageName","where"]]],{"domain":"NA"}]],["<-","m1",["classMetaName","class1"]],["<-","local1",["&&",["exists","m1","where",{"inherits":"FALSE"}],["!",["(",["||",["@","classDef","sealed"],["bindingIsLocked","m1","where"]]]]]],["if",["!","local1"],["{",["<-","m2",["classMetaName","class2"]],["<-","local2",["&&",["exists","m2","where",{"inherits":"FALSE"}],["!",["(",["||",["@","classDef2","sealed"],["bindingIsLocked","m2","where"]]]]]],["if",["!","local2"],["stop",["gettextf","\"cannot create a 'setIs' relation when neither of the classes (%s and %s) is local and modifiable in this package\"",["dQuote","class1"],["dQuote","class2"]],{"domain":"NA"}]]]],["if",["&&",["@","classDef","sealed"],["!",["isClassUnion","classDef2"]]],["stop",["gettextf","\"class %s is sealed; new superclasses can not be defined, except by 'setClassUnion'\"",["dQuote","class1"]],{"domain":"NA"}]],["<-","prevIs",["!",["identical",["possibleExtends","class1","class2","classDef","classDef2"],"FALSE"]]],["<-","obj",["if",["is.null","extensionObject"],["makeExtends","class1","class2","coerce","test","replace","by",{"classDef1":"classDef"},{"classDef2":"classDef2"},{"package":["getPackageName","where"]}],"extensionObject"]],["<-","ok",[".validExtends","class1","class2","classDef","classDef2",["@","obj","simple"]]],["if",["!",["isTRUE","ok"]],["stop","ok"]],["<-","where2",[".findOrCopyClass","class2","classDef2","where","\"subclass\""]],["<-",["[[",["@","classDef2","subclasses"],"class1"],"obj"],["if","doComplete",["<-",["@","classDef2","subclasses"],["completeSubclasses","classDef2","class1","obj","where"]]],["if",["&&",["@","classDef2","virtual"],["is.na",["match","class2",".specialVirtual"]]],["{",["if",["extends","classDef","\"NULL\""],["<-",["@","classDef2","prototype"],"NULL"],["if",["&&",["is.null",["@","classDef2","prototype"]],["is.na",["match","\"NULL\"",["names",["@","classDef2","subclasses"]]]]],["{",["<-",["@","classDef2","prototype"],["if",["@","classDef","virtual"],["@","classDef","prototype"],[".Call","C_new_object","classDef"]]]]]]]],["assignClassDef","class2","classDef2","where2","TRUE"],[".removePreviousCoerce","class1","class2","where","prevIs"],["<-","where1",[".findOrCopyClass","class1","classDef","where","\"superClass\""]],["<-",[".newDirectSuperclass",["@","classDef","contains"],"class2",["names",["@","classDef2","contains"]]],"obj"],["if","doComplete",["{",["<-",["@","classDef","contains"],["completeExtends","classDef","class2","obj",{"where":"where"}]],["if",["!",["is","classDef","\"ClassUnionRepresentation\""]],[".checkSubclasses","class1","classDef","class2","classDef2","where1","where2"]]]],["assignClassDef","class1","classDef","where1","TRUE"],["invisible","classDef"]]]],["<-",".findOrCopyClass",["function",[{"class":"","classDef":"","where":"","purpose":""}],["{",["<-","whereIs",["findClass","classDef","where"]],["if",["length","whereIs"],["[[","whereIs","1L"],["{",["if",["!=","purpose","\"subclass\""],["warning",["gettextf","\"class %s is defined (with package slot %s) but no metadata object found to revise %s information---not exported?  Making a copy in package %s\"",[".dQ","class"],["sQuote",["@","classDef","package"]],"purpose",["sQuote",["getPackageName","where","FALSE"]]],{"call.":"FALSE"},{"domain":"NA"}]],"where"]]]]],["<-",".validExtends",["function",[{"class1":"","class2":"","classDef1":"","classDef2":"","slotTests":""}],["{",["<-",".msg",["function",[{"class1":"","class2":""}],["gettextf","\"class %s cannot extend class %s\"",["dQuote","class1"],["dQuote","class2"]]]],["if",["&&",["(",["||",["is.null","classDef1"],["is.null","classDef2"]]],["!",["(",["&&",["isVirtualClass","class1"],["isVirtualClass","class2"]]]]],["return",["c",[".msg","class1","class2"],"\": \"",["gettext","\"both classes must be defined\""]]]],["if","slotTests",["{",["<-","slots2",["@","classDef2","slots"]],["if",["length","slots2"],["{",["<-","n2",["names","slots2"]],["<-","slots1",["@","classDef1","slots"]],["<-","n1",["names","slots1"]],["if",["any",["is.na",["match","n2","n1"]]],["return",["c",[".msg","class1","class2"],"\": \"",["sprintf",["ngettext",["sum",["is.na",["match","n2","n1"]]],"\"class %s is missing slot from class %s (%s), and no coerce method was supplied\"","\"class %s is missing slots from class %s (%s), and no coerce method was supplied\""],["dQuote","class1"],["dQuote","class2"],["paste",["[","n2",["is.na",["match","n2","n1"]]],{"collapse":"\", \""}]]]]],["<-","bad",["character",{}]],["for","what","n2",["if",["!",["extends",["[[","slots1","what"],["[[","slots2","what"]]],["<-","bad",["c","bad","what"]]]],["if",["length","bad"],["return",["c",[".msg","class1","class2"],"\": \"",["sprintf",["ngettext",["length","bad"],"\"slot in class %s must extend corresponding slot in class %s: fails for %s\"","\"slots in class %s must extend corresponding slots in class %s: fails for %s\""],["dQuote","class1"],["dQuote","class2"],["paste","bad",{"collapse":"\", \""}]]]]]]]]],"TRUE"]]],["<-","\".newDirectSuperclass<-\"",["function",[{"contains":"","class2":"","superclasses2":"","value":""}],["{",["<-","superclasses",["names","contains"]],["if",["||",["||",["==",["length","superclasses2"],"0"],["==",["length","superclasses"],"0"]],["all",["is.na",["match","superclasses2","superclasses"]]]],["<-",["[[","contains","class2"],"value"],["{",["<-","sq",["seq_along","superclasses"]],["<-","before",["[[",["(",["[","sq",[">",["match","superclasses","superclasses2","0"],"0"]]],"1"]],["<-","contains",["c",["[","contains",["<","sq","before"]],"value",["[","contains",[">=","sq","before"]]]],["<-","superclasses",["c",["[","superclasses",["<","sq","before"]],"class2",["[","superclasses",[">=","sq","before"]]]],["<-",["names","contains"],"superclasses"]]],"contains"]]]]
