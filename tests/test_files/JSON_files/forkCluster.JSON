[[],["<-","makeForkCluster",["function",[{"nnodes":["getOption","\"mc.cores\"","2L"],"...":""}],["{",["<-","nnodes",["as.integer","nnodes"]],["if",["||",["is.na","nnodes"],["<","nnodes","1L"]],["stop","\"'nnodes' must be >= 1\""]],[".check_ncores","nnodes"],["<-","cl",["vector","\"list\"","nnodes"]],["for","i",["seq_along","cl"],["<-",["[[","cl","i"],["newForkNode","...",{"rank":"i"}]]],["<-",["class","cl"],["c","\"SOCKcluster\"","\"cluster\""]],"cl"]]],["<-","newForkNode",["function",[{"...":"","options":"defaultClusterOptions","rank":""}],["{",["<-","options",["addClusterOptions","options",["list","..."]]],["<-","outfile",["getClusterOption","\"outfile\"","options"]],["<-","port",["getClusterOption","\"port\"","options"]],["<-","timeout",["getClusterOption","\"timeout\"","options"]],["<-","renice",["getClusterOption","\"renice\"","options"]],["<-","f",["mcfork","TRUE"]],["if",["inherits","f","\"masterProcess\""],["{",["on.exit",["mcexit","1L",["structure","\"fatal error in wrapper code\"",{"class":"\"try-error\""}]]],["<-","master","\"localhost\""],["<-","makeSOCKmaster",["function",[{"master":"","port":"","timeout":""}],["{",["<-","port",["as.integer","port"]],["<-","retryDelay","0.05"],["<-","retryScale","1.5"],["<-","setup_timeout","10"],["<-","t0",["Sys.time",{}]],["repeat",["{",["<-","con",["tryCatch",["{",["socketConnection","master",{"port":"port"},{"blocking":"TRUE"},{"open":"\"a+b\""},{"timeout":"timeout"}]],{"error":"identity"}]],["if",["inherits","con","\"connection\""],["break"]],["if",[">",["difftime",["Sys.time",{}],"t0",{"units":"\"secs\""}],"setup_timeout"],["break"]],["Sys.sleep","retryDelay"],["<-","retryDelay",["*","retryScale","retryDelay"]]]],["if",["inherits","con","\"error\""],["stop","con"]],["structure",["list",{"con":"con"}],{"class":"\"SOCK0node\""}]]]],["sinkWorkerOutput","outfile"],["<-","msg",["sprintf","\"starting worker pid=%d on %s at %s\\n\"",["Sys.getpid",{}],["paste","master","port",{"sep":"\":\""}],["format",["Sys.time",{}],"\"%H:%M:%OS3\""]]],["cat","msg"],["if",["&&",["!",["is.na","renice"]],"renice"],[["::","tools","psnice"],["Sys.getpid",{}],"renice"]],["slaveLoop",["makeSOCKmaster","master","port","timeout"]],["mcexit","0L"]]],["<-","con",["socketConnection","\"localhost\"",{"port":"port"},{"server":"TRUE"},{"blocking":"TRUE"},{"open":"\"a+b\""},{"timeout":"timeout"}]],["structure",["list",{"con":"con"},{"host":"\"localhost\""},{"rank":"rank"}],{"class":["c","\"forknode\"","\"SOCK0node\""]}]]]]]
