[[],["<-","Rd_info",["function",[{"file":"","encoding":"\"unknown\""}],["{",["if",["inherits","file","\"Rd\""],["{",["<-","Rd","file"],["<-","description",["$",["attr",["attr","Rd","\"srcref\""],"\"srcfile\""],"filename"]]],["stop","\"Rd object required\""]],["<-","aliases",[".Rd_get_metadata","Rd","\"alias\""]],["<-","concepts",[".Rd_get_metadata","Rd","\"concept\""]],["<-","keywords",["%w/o%",[".Rd_get_metadata","Rd","\"keyword\""],".Rd_keywords_auto"]],["<-","Rd_type",[".Rd_get_doc_type","Rd"]],["<-","encoding",["[",["c",[".Rd_get_metadata","Rd","\"encoding\""],"\"\""],"1L"]],["<-","Rd_name",[".Rd_get_name","Rd"]],["if",["!",["length","Rd_name"]],["{",["<-","msg",["c",["gettextf","\"missing/empty %s field in '%s'\"","\"\\\\name\"","description"],["gettextf","\"Rd files must have a non-empty %s.\"","\"\\\\name\""],["gettext","\"See chapter 'Writing R documentation' in manual 'Writing R Extensions'.\""]]],["stop",["paste","msg",{"collapse":"\"\\n\""}],{"domain":"NA"}]]],["<-","Rd_title",[".Rd_get_title","Rd"]],["if",["!",["nchar","Rd_title"]],["{",["<-","msg",["c",["gettextf","\"missing/empty \\\\title field in '%s'\"","description"],["gettext","\"Rd files must have a non-empty \\\\title.\""],["gettext","\"See chapter 'Writing R documentation' in manual 'Writing R Extensions'.\""]]],["stop",["paste","msg",{"collapse":"\"\\n\""}],{"domain":"NA"}]]],["list",{"name":"Rd_name"},{"type":"Rd_type"},{"title":"Rd_title"},{"aliases":"aliases"},{"concepts":"concepts"},{"keywords":"keywords"},{"encoding":"encoding"}]]]],["<-","Rd_contents",["function",[{"db":""}],["{",["if",["!",["length","db"]],["{",["<-","out",["data.frame",{"File":["character",{}]},{"Name":["character",{}]},{"Type":["character",{}]},{"Title":["character",{}]},{"Encoding":["character",{}]},{"stringsAsFactors":"FALSE"}]],["<-",["$","out","Aliases"],["list",{}]],["<-",["$","out","Concepts"],["list",{}]],["<-",["$","out","Keywords"],["list",{}]],["return","out"]]],["<-","entries",["c","\"Name\"","\"Type\"","\"Title\"","\"Aliases\"","\"Concepts\"","\"Keywords\"","\"Encoding\""]],["<-","contents",["vector","\"list\"",["*",["length","db"],["length","entries"]]]],["<-",["dim","contents"],["c",["length","db"],["length","entries"]]],["for","i",["seq_along","db"],["{",["<-",["[","contents","i",{}],["Rd_info",["[[","db","i"]]]]],["<-",["colnames","contents"],"entries"],["<-","title",[".Rd_format_title",["unlist",["[","contents",{},"\"Title\""]]]],["<-","out",["data.frame",{"File":["basename",["names","db"]]},{"Name":["unlist",["[","contents",{},"\"Name\""]]},{"Type":["unlist",["[","contents",{},"\"Type\""]]},{"Title":"title"},{"Encoding":["unlist",["[","contents",{},"\"Encoding\""]]},{"row.names":"NULL"},{"stringsAsFactors":"FALSE"}]],["<-",["$","out","Aliases"],["[","contents",{},"\"Aliases\""]],["<-",["$","out","Concepts"],["[","contents",{},"\"Concepts\""]],["<-",["$","out","Keywords"],["[","contents",{},"\"Keywords\""]],"out"]]],["<-",".write_Rd_contents_as_RDS",["function",[{"contents":"","outFile":""}],["{",["saveRDS","contents",{"file":"outFile"},{"compress":"TRUE"}]]]],["if","FALSE",["{",["<-",".write_Rd_contents_as_DCF",["function",[{"contents":"","packageName":"","outFile":""}],["{",["if",["!",["NROW","contents"]],["return",{}]],["<-","URLs",["paste0","\"../../../library/\"","packageName","\"/html/\"",["file_path_sans_ext",["[","contents",{},"\"File\""]],"\".html\""]],["if",["is.data.frame","contents"],["<-","contents",["cbind",["$","contents","Name"],["vapply",["$","contents","Aliases"],"paste","\"\"",{"collapse":"\" \""}],["vapply",["$","contents","Keywords"],"paste","\"\"",{"collapse":"\" \""}],["$","contents","Title"]]],["<-","contents",["[","contents",{},["c","\"Name\"","\"Aliases\"","\"Keywords\"","\"Title\""],{"drop":"FALSE"}]]],["cat",["paste",["c","\"Entry:\"","\"Aliases:\"","\"Keywords:\"","\"Description:\"","\"URL:\""],["t",["cbind","contents","URLs"]]],{"sep":["c","\"\\n\"","\"\\n\"","\"\\n\"","\"\\n\"","\"\\n\\n\""]},{"file":"outFile"}]]]]]],["<-",".build_Rd_index",["function",[{"contents":"","type":"NULL"}],["{",["<-","keywords",["[","contents",{},"\"Keywords\""]],["if",["!",["is.null","type"]],["{",["<-","idx",["%in%",["[","contents",{},"\"Type\""],"type"]],["if",["==","type","\"data\""],["<-","idx",["|","idx",["==","keywords","\"datasets\""]]]],["<-","contents",["[","contents","idx",{},{"drop":"FALSE"}]],["<-","keywords",["[","keywords","idx"]]]],["<-","idx",["(",["==",["vapply","keywords",["function",[{"x":""}],["match","\"internal\"","x","0L"]],"0L"],"0L"]]],["<-","index",["[","contents","idx",["c","\"Name\"","\"Title\""],{"drop":"FALSE"}]],["if",["nrow","index"],["{",["<-","aliases",["[","contents","idx","\"Aliases\""]],["<-","bad",["which",["!",["mapply","\"%in%\"",["[","index",{},"1L"],"aliases"]]]],["if",["any","bad"],["{",["<-","tmp",["sapply",["[","aliases","bad"],"\"[\"","1L"]],["<-",["[","tmp",["is.na","tmp"]],"\"\""],["<-",["[","index","bad","1L"],"tmp"]]],["<-","index",["[","index",["sort.list",["[","index",{},"1L"]],{}]]]],"index"]]],["<-","Rdindex",["function",[{"RdFiles":"","outFile":"\"\"","type":"NULL","width":["*","0.9",["getOption","\"width\""]],"indent":"NULL"}],["{",["if",["&&",["(",["==",["length","RdFiles"],"1L"]],["dir.exists","RdFiles"]],["{",["<-","docsDir","RdFiles"],["if",["dir.exists",["file.path","docsDir","\"man\""]],["<-","docsDir",["file.path","docsDir","\"man\""]]],["<-","RdFiles",["list_files_with_type","docsDir","\"docs\""]]]],["if",["==","outFile","\"\""],["<-","outFile",["stdout",{}]],["if",["is.character","outFile"],["{",["<-","outFile",["file","outFile","\"w\""]],["on.exit",["close","outFile"]]]]],["if",["!",["inherits","outFile","\"connection\""]],["stop","\"argument 'outFile' must be a character string or connection\""]],["<-","db",[".build_Rd_db",{"files":"RdFiles"},{"stages":"\"build\""}]],["<-","index",[".build_Rd_index",["Rd_contents","db"],{"type":"type"}]],["writeLines",["formatDL","index",{"width":"width"},{"indent":"indent"}],"outFile"]]]],["<-","Rd_db",["function",[{"package":"","dir":"","lib.loc":"NULL","stages":"\"build\""}],["{",["if",["!",["missing","package"]],["{",["if",["!=",["length","package"],"1L"],["stop","\"argument 'package' must be of length 1\""]],["<-","dir",["find.package","package","lib.loc"]],["<-","docs_dir",["file.path","dir","\"man\""]],["<-","db_file",["file.path","dir","\"help\"","package"]],["if",["file_test","\"-f\"",["paste0","db_file","\".rdx\""]],["{",["<-","db",["fetchRdDB","db_file"]],["<-","pathfile",["file.path","dir","\"help\"","\"paths.rds\""]],["if",["file.exists","pathfile"],["{",["<-","paths",["readRDS","pathfile"]],["if",["!",["is.null",["<-","first",["attr","paths","\"first\""]]]],["<-","paths",["substring","paths","first"]]],["<-",["names","db"],"paths"]]],["return","db"]]],["<-","db_file",["file.path","docs_dir",["sprintf","\"%s.Rd.gz\"","package"]]],["if",["file_test","\"-f\"","db_file"],["{",["<-","lines",[".read_Rd_lines_quietly","db_file"]],["<-","eof_pos",["grep","\"^\\\\\\\\eof$\"","lines",{"perl":"TRUE"},{"useBytes":"TRUE"}]],["<-","db",["split",["[","lines",["-","eof_pos"]],["[",["rep.int",["seq_along","eof_pos"],["diff",["c","0","eof_pos"]]],["-","eof_pos"]]]]],["return",["structure",["list",{}],{"names":["character",{}]}]]],["<-","paths",["as.character",["sapply","db","\"[\"","1L"]]],["<-",["names","db"],["if",["&&",["length","paths"],["all",["grepl","\"^% --- Source file: (.+) ---$\"","paths"]]],["sub","\"^% --- Source file: (.+) ---$\"","\"\\\\1\"","paths"],"NULL"]],["<-","encoding",["[",[".get_package_metadata","dir","TRUE"],"\"Encoding\""]],["if",["is.na","encoding"],["<-","encoding","\"unknown\""]],["<-","db",["suppressWarnings",["lapply","db","prepare_Rd_from_Rd_lines",{"encoding":"encoding"},{"defines":["$",".Platform","OS.type"]},{"stages":"\"install\""}]]]],["{",["if",["missing","dir"],["stop","\"you must specify 'package' or 'dir'\""]],["if",["!",["dir.exists","dir"]],["stop",["gettextf","\"directory '%s' does not exist\"","dir"],{"domain":"NA"}],["<-","dir",["file_path_as_absolute","dir"]]],["<-","built_file",["file.path","dir","\"build\"","\"partial.rdb\""]],["<-","db",[".build_Rd_db","dir",{"stages":"stages"},{"built_file":"built_file"}]],["if",["length","db"],["{",["<-","first",["+",["nchar",["file.path","dir","\"man\""]],"2L"]],["<-",["names","db"],["substring",["names","db"],"first"]]]]]],"db"]]],["<-","prepare_Rd_from_Rd_lines",["function",[{"x":"","...":""}],["{",["<-","con",["textConnection","x","\"rt\""]],["on.exit",["close","con"]],["prepare_Rd","con","..."]]]],["<-",".build_Rd_db",["function",[{"dir":"NULL","files":"NULL","encoding":"\"unknown\"","db_file":"NULL","stages":["c","\"build\"","\"install\""],"os":[".OStype",{}],"step":"3L","built_file":"NULL","macros":["character",{}]}],["{",["if",["!",["is.null","dir"]],["{",["<-","dir",["file_path_as_absolute","dir"]],["<-","macros0",["loadPkgRdMacros","dir"]],["<-","man_dir",["file.path","dir","\"man\""]],["if",["!",["dir.exists","man_dir"]],["return",["structure",["list",{}],{"names":["character",{}]}]]],["if",["is.null","files"],["<-","files",["list_files_with_type","man_dir","\"docs\"",{"OS_subdirs":"os"}]]],["<-","encoding",["[",[".get_package_metadata","dir","FALSE"],"\"Encoding\""]],["if",["is.na","encoding"],["<-","encoding","\"unknown\""]]],["if",["!",["is.null","files"]],["<-","macros0",["initialRdMacros",{}]],["stop","\"you must specify 'dir' or 'files'\""]]],["if",["length","macros"],["{",["<-","con",["textConnection","macros"]],["<-","macros",["loadRdMacros","con","macros0"]],["close","con"]],["{",["<-","macros","macros0"]]],["<-",".fetch_Rd_object",["function",[{"f":""}],["{",["<-","Rd",["prepare_Rd","f",{"encoding":"encoding"},{"defines":"os"},{"stages":"stages"},{"warningCalls":"FALSE"},{"stage2":[">","step","1L"]},{"stage3":[">","step","2L"]},{"macros":"macros"}]],["structure","Rd",{"prepared":"step"}]]]],["if",["&&",["!",["is.null","db_file"]],["file_test","\"-f\"","db_file"]],["{",["<-","db",["fetchRdDB",["sub","\"\\\\.rdx$\"","\"\"","db_file"]]],["<-","db_names",["<-",["names","db"],["readRDS",["file.path",["dirname","db_file"],"\"paths.rds\""]]]],["<-","indf",["&",["(",["%in%","files","db_names"]],["file_test","\"-nt\"","files","db_file"]]],["<-","indf",["|","indf",["(",["%notin%","files","db_names"]]]],["<-","ind",["|",["(",["%notin%","db_names","files"]],["(",["%in%","db_names",["[","files","indf"]]]]],["if",["any","ind"],["<-","db",["[","db",["!","ind"]]]],["<-","files",["[","files","indf"]]],["<-","db",["list",{}]]],["<-",["names","files"],"files"],["if",["&&",["!",["is.null","built_file"]],["file_test","\"-f\"","built_file"]],["{",["<-","basenames",["basename","files"]],["<-","built",["readRDS","built_file"]],["<-","names_built",["names","built"]],["if",["%in%","\"install\"","stages"],["{",["<-","this_os",["grepl",["paste0","\"^\"","os","\"/\""],"names_built"]],["<-","name_only",["basename",["[","names_built","this_os"]]],["<-",["[","built","name_only"],["[","built","this_os"]],["<-","some_os",["grepl","\"/\"",["names","built"]]],["<-","built",["[","built",["!","some_os"]]],["<-","names_built",["names","built"]]]],["<-",["[","built",["%notin%","names_built","basenames"]],"NULL"],["if",["length","built"],["{",["<-","which",["match",["names","built"],"basenames"]],["if",["all",["file_test","\"-nt\"","built_file",["[","files","which"]]],["{",["<-","files",["as.list","files"]],["<-",["[","files","which"],"built"]]]]]]],["if",["length","files"],["{",["<-","db1",["lapply","files",".fetch_Rd_object"]],["<-",["names","db1"],["names","files"]],["<-","db",["c","db","db1"]]]],"db"]]],["<-","Rd_aliases",["function",[{"package":"","dir":"","lib.loc":"NULL"}],["{",["if",["!",["missing","package"]],["{",["<-","dir",["find.package","package","lib.loc"]],["<-","rds",["file.path","dir","\"Meta\"","\"Rd.rds\""]],["if",["file_test","\"-f\"","rds"],["{",["<-","aliases",["$",["readRDS","rds"],"Aliases"]],["if",["length","aliases"],["sort",["unlist","aliases"]],["character",{}]]],["character",{}]]],["{",["if",["dir.exists",["file.path","dir","\"man\""]],["{",["<-","db",["Rd_db",{"dir":"dir"}]],["<-","aliases",["lapply","db",".Rd_get_metadata","\"alias\""]],["if",["length","aliases"],["sort",["unique",["unlist","aliases",{"use.names":"FALSE"}]]],["character",{}]]],["character",{}]]]]]]],["<-",".build_Rd_xref_db",["function",[{"package":"","dir":"","lib.loc":"NULL"}],["{",["<-","db",["if",["!",["missing","package"]],["Rd_db","package",{"lib.loc":"lib.loc"}],["Rd_db",{"dir":"dir"}]]],["lapply","db",".Rd_get_xrefs"]]]],["<-",".Rd_get_metadata",["function",[{"x":"","kind":""}],["{",["<-","x",["[","x",["==",["RdTags","x"],["sprintf","\"\\\\%s\"","kind"]]]],["if",["!",["length","x"]],["character",{}],["unique",["trimws",["sapply","x","as.character"]]]]]]],["<-",".Rd_keywords_auto",["c","\"~kwd1\"","\"~kwd2\"","\"~~ other possible keyword(s) ~~\""]],["<-",".Rd_get_section",["function",[{"x":"","which":"","predefined":"TRUE"}],["{",["if","predefined",["<-","x",["[","x",["==",["RdTags","x"],["paste0","\"\\\\\"","which"]]]],["{",["<-","x",["[","x",["==",["RdTags","x"],"\"\\\\section\""]]],["if",["length","x"],["{",["<-","ind",["==",["sapply","x",["function",[{"e":""}],[".Rd_get_text",["[[","e","1L"]]]],"which"]],["<-","x",["lapply",["[","x","ind"],"`[[`","2L"]]]]]],["if",["!",["length","x"]],"x",["structure",["[[","x","1L"],{"class":"\"Rd\""}]]]]],["<-",".Rd_deparse",["function",[{"x":"","tag":"TRUE"}],["{",["if",["!","tag"],["<-",["attr","x","\"Rd_tag\""],"\"Rd\""]],["paste",["as.character.Rd","x"],{"collapse":"\"\""}]]]],["<-",".Rd_drop_comments",["function",[{"x":""}],[".Rd_drop_nodes_with_tags","x","\"COMMENT\""]]],["<-",".Rd_drop_nodes_with_tags",["function",[{"x":"","tags":""}],["{",["<-","recurse",["function",[{"e":""}],["{",["if",["is.list","e"],["structure",["lapply",["[","e",["is.na",["match",["RdTags","e"],"tags"]]],"recurse"],{"Rd_tag":["attr","e","\"Rd_tag\""]}],"e"]]]],["recurse","x"]]]],["<-",".Rd_get_argument_names",["function",[{"x":""}],["{",["<-","x",[".Rd_get_section","x","\"arguments\""]],["if",["!",["length","x"]],["return",["character",{}]]],["<-","txt",[".Rd_get_item_tags","x"]],["<-","txt",["unlist",["strsplit","txt","\", *\""]]],["<-","txt",["gsub","\"\\\\\\\\l?dots\"","\"...\"","txt"]],["<-","txt",["gsub","\"\\\\\\\\_\"","\"_\"","txt"]],["trimws","txt"]]]],["<-",".Rd_get_argument_table",["function",[{"x":""}],["{",["<-","x",[".Rd_get_section","x","\"arguments\""]],["if",["!",["length","x"]],["return",["matrix",["character",{}],"0L","2L"]]],["<-","x",["[","x",["==",["RdTags","x"],"\"\\\\item\""]]],["if",["!",["length","x"]],["return",["matrix",["character",{}],"0L","2L"]]],["<-","x",["lapply",["[","x",["==",["lengths","x"],"2L"]],"sapply",".Rd_deparse"]],["matrix",["unlist","x"],{"ncol":"2L"},{"byrow":"TRUE"}]]]],["<-",".Rd_get_item_tags",["function",[{"x":""}],["{",["<-","x",["[","x",["==",["RdTags","x"],"\"\\\\item\""]]],["<-","out",["lapply",["[","x",["==",["lengths","x"],"2L"]],["function",[{"e":""}],[".Rd_deparse",["[[","e","1L"]]]]],["as.character",["unlist","out"]]]]],["<-",".Rd_get_example_code",["function",[{"x":""}],["{",["<-","x",[".Rd_get_section","x","\"examples\""]],["if",["!",["length","x"]],["return",["character",{}]]],["<-","x",[".Rd_drop_comments","x"]],["<-","recurse",["function",[{"e":""}],["{",["if",["&&",["!",["is.null",["<-","tag",["attr","e","\"Rd_tag\""]]]],["%in%","tag",["c","\"\\\\dontshow\"","\"\\\\testonly\""]]],["<-",["attr","e","\"Rd_tag\""],"\"Rd\""]],["if",["is.list","e"],["{",["structure",["lapply",["[","e",["is.na",["match",["RdTags","e"],"\"\\\\dontrun\""]]],"recurse"],{"Rd_tag":["attr","e","\"Rd_tag\""]}]],"e"]]]],[".Rd_deparse",["recurse","x"],{"tag":"FALSE"}]]]],["<-",".Rd_get_methods_description_table",["function",[{"x":""}],["{",["<-","y",["matrix",["character",{}],"0L","2L"]],["<-","x",[".Rd_get_section","x","\"Methods\"","FALSE"]],["if",["!",["length","x"]],["return","y"]],["<-","x",[".Rd_get_section","x","\"describe\""]],["if",["!",["length","x"]],["return","y"]],["<-","x",["[","x",["==",["RdTags","x"],"\"\\\\item\""]]],["if",["!",["length","x"]],["return","y"]],["<-","x",["lapply",["[","x",["==",["lengths","x"],"2L"]],"sapply",".Rd_deparse"]],["matrix",["unlist","x"],{"ncol":"2L"},{"byrow":"TRUE"}]]]],["<-",".Rd_get_doc_type",["function",[{"x":""}],["{",["[",["c",["$",["attr","x","\"meta\""],"docType"],[".Rd_get_metadata","x","\"docType\""],"\"\""],"1L"]]]],["<-",".Rd_get_name",["function",[{"x":""}],["{",["<-","x",[".Rd_get_section","x","\"name\""]],["if",["length","x"],["trimws",[".Rd_deparse","x",{"tag":"FALSE"}]],["character",{}]]]]],["<-",".Rd_get_title",["function",[{"x":""}],["{",["<-","title",[".Rd_get_section","x","\"title\""]],["<-","result",["character",{}]],["if",["length","title"],["{",["<-","result",[".Rd_get_text","title"]],["<-","result",["[","result",["nzchar","result"]]]]],["paste","result",{"collapse":"\" \""}]]]],["<-",".Rd_get_text",["function",[{"x":""}],["{",["if",["is.character","x"],["return",["c","x"]]],["<-","rval","NULL"],["<-","file",["textConnection","\"rval\"","\"w\"",{"local":"TRUE"}]],["<-","save",["options",{"useFancyQuotes":"FALSE"}]],["<-","Rdsave",["Rd2txt_options",{"underline_titles":"FALSE"}]],["sink","file"],["tryCatch",["Rd2txt","x",{"fragment":"TRUE"}],{"finally":["{",["sink",{}],["options","save"],["Rd2txt_options","Rdsave"],["close","file"]]}],["if",["is.null","rval"],["<-","rval",["character",{}]],["enc2utf8","rval"]]]]],["<-",".Rd_get_xrefs",["function",[{"x":""}],["{",["<-","out",["matrix",["character",{}],{"nrow":"0L"},{"ncol":"2L"}]],["<-","recurse",["function",[{"e":""}],["{",["<-","tag",["attr","e","\"Rd_tag\""]],["if",["identical","tag","\"\\\\link\""],["{",["<-","val",["if",["length","e"],["{",["<-","arg",["as.character",["[[","e","1L"]]],["<-","opt",["attr","e","\"Rd_option\""]],["c","arg",["if",["is.null","opt"],"\"\"",["as.character","opt"]]]],["c","\"\"","\"\""]]],["<<-","out",["rbind","out","val"]]],["if",["identical","tag","\"\\\\linkS4class\""],["{",["<-","arg",["as.character",["[[","e","1L"]]],["<-","val",["c","arg",["sprintf","\"=%s-class\"","arg"]]],["<<-","out",["rbind","out","val"]]]]],["if",["is.list","e"],["lapply","e","recurse"]]]]],["lapply","x","recurse"],["<-",["dimnames","out"],["list","NULL",["c","\"Target\"","\"Anchor\""]]],"out"]]],["<-",".Rd_get_names_from_Rd_db",["function",[{"db":""}],["{",["<-","Rd_names",["lapply","db",".Rd_get_name"]],["<-","idx",["==",["as.integer",["lengths","Rd_names"]],"0L"]],["if",["any","idx"],["{",["<-","Rd_paths",["names","db"]],["if",["is.null","Rd_paths"],["{",["stop","\"cannot deal with Rd objects with missing/empty names\""]],["{",["stop",["sprintf",["ngettext",["sum","idx"],"\"missing/empty \\\\name field in Rd file\\n%s\"","\"missing/empty \\\\name field in Rd files\\n%s\""],["paste0","\"  \"",["[","Rd_paths","idx"],{"collapse":"\"\\n\""}]],{"call.":"FALSE"},{"domain":"NA"}]]]]],["unlist","Rd_names"]]]],["<-",".Rd_format_title",["function",[{"x":""}],["{",["<-","x",["gsub","\"(``|'')\"","\"\\\"\"","x"]],["<-","x",["gsub","\"`\"","\"'\"","x"]],["<-","x",["gsub","\"([[:alnum:]])--([[:alnum:]])\"","\"\\\\1-\\\\2\"","x"]],["<-","x",["gsub","\"\\\\\\\\&\"","\"&\"","x"]],["<-","x",["gsub","\"---\"","\"--\"","x"]],["trimws","x"]]]],["<-","fetchRdDB",["function",[{"filebase":"","key":"NULL"}],["{",["<-","fun",["function",[{"db":""}],["{",["<-","vals",["$","db","vals"]],["<-","vars",["$","db","vars"]],["<-","datafile",["$","db","datafile"]],["<-","compressed",["$","db","compressed"]],["<-","envhook",["$","db","envhook"]],["<-","fetch",["function",[{"key":""}],["lazyLoadDBfetch",["[[",["[","vals","key"],"1L"],"datafile","compressed","envhook"]]],["if",["length","key"],["{",["if",["%notin%","key","vars"],["stop",["gettextf","\"No help on %s found in RdDB %s\"",["sQuote","key"],["sQuote","filebase"]],{"domain":"NA"}]],["fetch","key"]],["{",["<-","res",["lapply","vars","fetch"]],["<-",["names","res"],"vars"],"res"]]]]],["<-","res",["lazyLoadDBexec","filebase","fun"]],["if",["length","key"],"res",["invisible","res"]]]]],["<-","loadRdMacros",["function",[{"file":"","macros":"TRUE"}],["{",["if",["&&",["is.logical","macros"],["!","macros"]],["stop","\"'macros' must be TRUE or must specify existing macros\""]],["<-","Rd",["parse_Rd","file",{"fragment":"TRUE"},{"macros":"macros"},{"warningCalls":"FALSE"}]],["for","entry","Rd",["{",["<-","bad","TRUE"],["if",["is.list","entry"],["break"]],["<-","tag",["attr","entry","\"Rd_tag\""]],["switch","tag",{"TEXT":["if",["any",["grepl","\"[^[:space:]]\"","entry",{"perl":"TRUE"},{"useBytes":"TRUE"}]],["break"],["<-","bad","FALSE"]]},{"USERMACRO":""},{"\"\\\\newcommand\"":""},{"\"\\\\renewcommand\"":""},{"COMMENT":["<-","bad","FALSE"]},["break"]]]],["if","bad",["warning",["gettextf","\"Macro file %s should only contain Rd macro definitions and comments\"","file"]]],["attr","Rd","\"macros\""]]]],["<-","initialRdMacros",["function",[{"pkglist":"NULL","macros":["file.path",["R.home","\"share\""],"\"Rd\"","\"macros\"","\"system.Rd\""]}],["{",["if",["length","pkglist"],["{",["<-","others",["trimws",["unlist",["strsplit","pkglist","\",\""]]]],["for","p","others",["{",["if",["==",["(",["<-","fp",["system.file",{"package":"p"}]]],"\"\""],["warning",["gettextf","\"Rd macro package '%s' is not installed.\"","p"],{"call.":"FALSE"}],["if",["dir.exists",["file.path","fp","\"help\"","\"macros\""]],["<-","macros",["loadPkgRdMacros",["system.file",{"package":"p"}],"macros"]],["warning",["gettextf","\"No Rd macros in package '%s'.\"","p"],{"call.":"FALSE"}]]]]]],["if",["is.character","macros"],["<-","macros",["loadRdMacros",{"file":"macros"}]]]],"macros"]]],["<-","loadPkgRdMacros",["function",[{"pkgdir":"","macros":"NULL"}],["{",["<-","pkglist",["try",[".read_description",["file.path","pkgdir","\"DESCRIPTION\""]],{"silent":"TRUE"}]],["if",["inherits","pkglist","\"try-error\""],["<-","pkglist",["try",[".read_description",["file.path","pkgdir","\"DESCRIPTION.in\""]],{"silent":"TRUE"}]]],["if",["inherits","pkglist","\"try-error\""],["return","macros"]],["<-","pkglist",["[","pkglist","\"RdMacros\""]],["if",["is.na","pkglist"],["<-","pkglist","NULL"]],["if",["is.null","macros"],["<-","macros",["initialRdMacros","pkglist"]],["<-","macros",["initialRdMacros","pkglist","macros"]]],["<-","files",["c",["list.files",["file.path","pkgdir","\"man\"","\"macros\""],{"pattern":"\"\\\\.Rd$\""},{"full.names":"TRUE"}],["list.files",["file.path","pkgdir","\"help\"","\"macros\""],{"pattern":"\"\\\\.Rd$\""},{"full.names":"TRUE"}]]],["for","f","files",["<-","macros",["loadRdMacros","f","macros"]]],"macros"]]]]
