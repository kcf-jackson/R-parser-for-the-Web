[[],["<-","packageDescription",["function",[{"pkg":"","lib.loc":"NULL","fields":"NULL","drop":"TRUE","encoding":"\"\""}],["{",["<-","retval",["list",{}]],["if",["!",["is.null","fields"]],["{",["<-","fields",["as.character","fields"]],["<-",["[","retval","fields"],"NA"]]],["<-","pkgpath",["if",["is.null","lib.loc"],["{",["if",["==","pkg","\"base\""],["file.path",".Library","\"base\""],["if",["isNamespaceLoaded","pkg"],["getNamespaceInfo","pkg","\"path\""],["if",["%in%",["(",["<-","envname",["paste0","\"package:\"","pkg"]]],["search",{}]],["{",["attr",["as.environment","envname"],"\"path\""]]]]]]]],["if",["is.null","pkgpath"],["<-","pkgpath","\"\""]],["if",["==","pkgpath","\"\""],["{",["<-","libs",["if",["is.null","lib.loc"],[".libPaths",{}],"lib.loc"]],["for","lib","libs",["if",["==",["file.access",["file.path","lib","pkg"],"5"],"0L"],["{",["<-","pkgpath",["file.path","lib","pkg"]],["break"]]]]]],["if",["==","pkgpath","\"\""],["{",["warning",["gettextf","\"no package '%s' was found\"","pkg"],{"domain":"NA"}],["return","NA"]]],["if",["file.exists",["<-","file",["file.path","pkgpath","\"Meta\"","\"package.rds\""]]],["{",["<-","desc",["$",["readRDS","file"],"DESCRIPTION"]],["if",["<",["length","desc"],"1"],["stop",["gettextf","\"metadata of package '%s' is corrupt\"","pkg"],{"domain":"NA"}]],["<-","desc",["as.list","desc"]]],["if",["file.exists",["<-","file",["file.path","pkgpath","\"DESCRIPTION\""]]],["{",["<-","dcf",["read.dcf",{"file":"file"}]],["if",["<",["NROW","dcf"],"1L"],["stop",["gettextf","\"DESCRIPTION file of package '%s' is corrupt\"","pkg"],{"domain":"NA"}]],["<-","desc",["as.list",["[","dcf","1",{}]]]],["<-","file","\"\""]]],["if",["nzchar","file"],["{",["<-","enc",["[[","desc","\"Encoding\""]],["if",["&&",["!",["is.null","enc"]],["!",["is.na","encoding"]]],["{",["if",["&&",["missing","encoding"],["==",["Sys.getlocale","\"LC_CTYPE\""],"\"C\""]],["<-","encoding","\"ASCII//TRANSLIT\""]],["if",["!=","encoding","enc"],["{",["<-","newdesc",["try",["lapply","desc","iconv",{"from":"enc"},{"to":"encoding"}]]],["<-","dOk",["function",[{"nd":""}],["&&",["!",["inherits","nd","\"error\""]],["!",["anyNA","nd"]]]]],["<-","ok",["dOk","newdesc"]],["if",["!","ok"],["<-","ok",["dOk",["<-","newdesc",["try",["lapply","desc","iconv",{"from":"enc"},{"to":["paste0","encoding","\"//TRANSLIT\""]}]]]]]],["if",["!","ok"],["<-","ok",["dOk",["<-","newdesc",["try",["lapply","desc","iconv",{"from":"enc"},{"to":"\"ASCII//TRANSLIT\""},{"sub":"\"?\""}]]]]]],["if","ok",["<-","desc","newdesc"],["warning","\"'DESCRIPTION' file has an 'Encoding' field and re-encoding is not possible\"",{"call.":"FALSE"}]]]]]],["if",["!",["is.null","fields"]],["{",["<-","ok",["%in%",["names","desc"],"fields"]],["<-",["[","retval",["[",["names","desc"],"ok"]],["[","desc","ok"]]],["<-",["[","retval",["names","desc"]],"desc"]]]],["if",["||",["(",["==","file","\"\""]],["(",["==",["length","retval"],"0"]]],["{",["warning",["gettextf","\"DESCRIPTION file of package '%s' is missing or broken\"","pkg"],{"domain":"NA"}],["return","NA"]]],["if",["&","drop",["==",["length","fields"],"1L"]],["return",["[[","retval","1L"]]],["<-",["class","retval"],"\"packageDescription\""],["if",["!",["is.null","fields"]],["<-",["attr","retval","\"fields\""],"fields"]],["<-",["attr","retval","\"file\""],"file"],"retval"]]],["<-","print.packageDescription",["function",[{"x":"","abbrCollate":["*","0.8",["getOption","\"width\""]],"...":""}],["{",["<-","xx","x"],["<-",["[","xx",{}],["lapply","xx",["function",[{"x":""}],["if",["is.na","x"],"\"NA\"","x"]]]],["if",["&&",[">","abbrCollate","0"],["any",["==",["names","xx"],"\"Collate\""]]],["{",["<-","wrds",["[[",["strsplit",["$","xx","Collate"],"\"[ \\n]\""],"1L"]],["<-","k",["-",["which.max",[">",["cumsum",["nchar","wrds"]],"abbrCollate"]],"1L"]],["<-",["$","xx","Collate"],["paste",["c",["[","wrds",["seq_len","k"]],"\".....\""],{"collapse":"\" \""}]]]],["write.dcf",["as.data.frame.list","xx",{"optional":"TRUE"}]],["cat","\"\\n-- File:\"",["attr","x","\"file\""],"\"\\n\""],["if",["!",["is.null",["attr","x","\"fields\""]]],["{",["cat","\"-- Fields read: \""],["cat",["attr","x","\"fields\""],{"sep":"\", \""}],["cat","\"\\n\""]]],["invisible","x"]]]],["<-","maintainer",["function",[{"pkg":""}],["{",["force","pkg"],["<-","desc",["packageDescription","pkg"]],["if",["is.list","desc"],["gsub","\"\\n\"","\" \"",["$","desc","Maintainer"],{"fixed":"TRUE"}],"NA_character_"]]]],["<-","packageVersion",["function",[{"pkg":"","lib.loc":"NULL"}],["{",["<-","res",["suppressWarnings",["packageDescription","pkg",{"lib.loc":"lib.loc"},{"fields":"\"Version\""}]]],["if",["!",["is.na","res"]],["package_version","res"],["stop",["packageNotFoundError","pkg","lib.loc",["sys.call",{}]]]]]]],["<-","asDateBuilt",["function",[{"built":""}],["{",["as.Date",["[[",["[[",["strsplit","built",{"split":"\"; \""},{"fixed":"TRUE"}],"1L"],"3L"],{"format":"\"%Y-%m-%d\""}]]]],["<-","packageDate",["function",[{"pkg":"","lib.loc":"NULL","date.fields":["c","\"Date\"","\"Packaged\"","\"Date/Publication\"","\"Built\""],"tryFormats":["c","\"%Y-%m-%d\"","\"%Y/%m/%d\"","\"%D\"","\"%m/%d/%y\""],"desc":["packageDescription","pkg",{"lib.loc":"lib.loc"},{"fields":"date.fields"}]}],["{",["<-","useDesc",["&&",["is.list","desc"],[">=",["length",["names","desc"]],"1"]]],["for","fld","date.fields",["{",["<-","res",["if","useDesc",["{",["<-","r",["[[","desc","fld"]],["if",["is.null","r"],"NA_character_","r"]],["packageDescription","pkg",{"lib.loc":"lib.loc"},{"fields":"fld"}]]],["<-","res",["if",["&&",["==","fld","\"Built\""],["!",["is.na","res"]]],["tryCatch",["asDateBuilt","res"],{"error":["function",[{"e":""}],["{",["warning","\"Invalid \\\"Built\\\": \"",["conditionMessage","e"]],"NA_character_"]]}],["as.Date","res",{"tryFormats":"tryFormats"},{"optional":"TRUE"}]]],["if",["!",["is.na","res"]],["break"]]]],["if",["is.na","res"],"res",["structure","res",{"field":"fld"}]]]]],["<-","index.search",["function",[{"topic":"","paths":"","firstOnly":"FALSE"}],["{",["<-","res",["character",{}]],["for","p","paths",["{",["if",["file.exists",["<-","f",["file.path","p","\"help\"","\"aliases.rds\""]]],["<-","al",["readRDS","f"]],["if",["file.exists",["<-","f",["file.path","p","\"help\"","\"AnIndex\""]]],["{",["<-","foo",["scan","f",{"what":["list",{"a":"\"\""},{"b":"\"\""}]},{"sep":"\"\\t\""},{"quote":"\"\""},{"na.strings":"\"\""},{"quiet":"TRUE"}]],["<-","al",["structure",["$","foo","b"],{"names":["$","foo","a"]}]]],["next"]]],["<-","f",["[","al","topic"]],["if",["is.na","f"],["next"]],["<-","res",["c","res",["file.path","p","\"help\"","f"]]],["if","firstOnly",["break"]]]],"res"]]],["<-","print.packageIQR",["function",[{"x":"","...":""}],["{",["<-","db",["$","x","results"]],["<-","out",["if",[">",["nrow","db"],"0L"],["lapply",["split",["seq_len",["nrow","db"]],["[","db",{},"\"Package\""]],["function",[{"ind":""}],["[","db","ind",["c","\"Item\"","\"Title\""],{"drop":"FALSE"}]]]]],["<-","outFile",["tempfile","\"RpackageIQR\""]],["<-","outConn",["file","outFile",{"open":"\"w\""}]],["<-","first","TRUE"],["for","pkg",["names","out"],["{",["writeLines",["paste0",["ifelse","first","\"\"","\"\\n\""],["$","x","title"],"\" in package \"",["sQuote","pkg"],"\":\\n\""],"outConn"],["writeLines",["formatDL",["[",["[[","out","pkg"],{},"\"Item\""],["[",["[[","out","pkg"],{},"\"Title\""]],"outConn"],["<-","first","FALSE"]]],["if","first",["{",["close","outConn"],["unlink","outFile"],["writeLines",["paste","\"no\"",["tolower",["$","x","title"]],"\"found\""]],["if",["!",["is.null",["$","x","footer"]]],["writeLines",["c","\"\"",["$","x","footer"]]]]],["{",["if",["!",["is.null",["$","x","footer"]]],["writeLines",["c","\"\\n\"",["$","x","footer"]],"outConn"]],["close","outConn"],["file.show","outFile",{"delete.file":"TRUE"},{"title":["paste","\"R\"",["tolower",["$","x","title"]]]}]]],["invisible","x"]]]]]
