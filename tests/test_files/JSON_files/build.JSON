[[],["<-","writeDefaultNamespace",["function",[{"filename":"","desc":["file.path",["dirname","filename"],"\"DESCRIPTION\""]}],["{",["<-","pkgInfo",[".split_description",[".read_description","desc"]]],["<-","pkgs",["unique",["c",["names",["$","pkgInfo","Imports"]],["names",["$","pkgInfo","Depends"]]]]],["<-","pkgs",["[","pkgs",["!=","pkgs","\"base\""]]],["writeLines",["c","\"# Default NAMESPACE created by R\"","\"# Remove the previous line if you edit this file\"","\"\"","\"# Export all names\"","\"exportPattern(\\\".\\\")\"",["if",["length","pkgs"],["c","\"\"","\"# Import all packages listed as Imports or Depends\"","\"import(\"",["paste0","\"  \"","pkgs",{"collapse":"\",\\n\""}],"\")\""]]],"filename"]]]],["<-","get_exclude_patterns",["function",[],["c","\"^\\\\.Rbuildignore$\"","\"(^|/)\\\\.DS_Store$\"","\"^\\\\.(RData|Rhistory)$\"","\"~$\"","\"\\\\.bak$\"","\"\\\\.swp$\"","\"(^|/)\\\\.#[^/]*$\"","\"(^|/)#[^/]*#$\"","\"^TITLE$\"","\"^data/00Index$\"","\"^inst/doc/00Index\\\\.dcf$\"","\"^config\\\\.(cache|log|status)$\"","\"(^|/)autom4te\\\\.cache$\"","\"^src/.*\\\\.d$\"","\"^src/Makedeps$\"","\"^src/so_locations$\"","\"^inst/doc/Rplots\\\\.(ps|pdf)$\""]]],["<-","inRbuildignore",["function",[{"files":"","pkgdir":""}],["{",["<-","exclude",["rep.int","FALSE",["length","files"]]],["<-","ignore",["get_exclude_patterns",{}]],["<-","ignore_file",["file.path","pkgdir","\".Rbuildignore\""]],["if",["file.exists","ignore_file"],["<-","ignore",["c","ignore",["readLines","ignore_file",{"warn":"FALSE"}]]]],["for","e",["[","ignore",["nzchar","ignore"]],["<-","exclude",["|","exclude",["grepl","e","files",{"perl":"TRUE"},{"ignore.case":"TRUE"}]]]],"exclude"]]],["<-",".build_packages",["function",[{"args":"NULL","no.q":["interactive",{}]}],["{",["<-","WINDOWS",["==",["$",".Platform","OS.type"],"\"windows\""]],["Sys.umask","\"022\""],["<-","writeLinesNL",["function",[{"text":"","file":""}],["{",["<-","con",["file","file","\"wb\""]],["on.exit",["close","con"]],["writeLines","text","con"]]]],["<-","system_with_capture",["function",[{"command":"","args":""}],["{",["<-","outfile",["tempfile","\"xshell\""]],["on.exit",["unlink","outfile"]],["<-","status",["system2","command","args",{"stdout":"outfile"},{"stderr":"outfile"}]],["list",{"status":"status"},{"stdout":["readLines","outfile",{"warn":"FALSE"}]}]]]],["<-","Ssystem",["function",[{"command":"","args":["character",{}],"...":""}],["system2","command","args",{"stdout":"NULL"},{"stderr":"NULL"},"..."]]],["<-","do_exit",["if","no.q",["function",[{"status":""}],[["(",["if","status","stop","message"]],"\".build_packages() exit status \"","status"]],["function",[{"status":""}],["q","\"no\"",{"status":"status"},{"runLast":"FALSE"}]]]],["<-","parse_description_field",["function",[{"desc":"","field":"","default":"TRUE","logical":"TRUE"}],["str_parse",["[","desc","field"],{"default":"default"},{"logical":"logical"}]]],["<-","Usage",["function",[],["{",["cat","\"Usage: R CMD build [options] pkgdirs\"","\"\"","\"Build R packages from package sources in the directories specified by\"",["sQuote","\"pkgdirs\""],"\"\"","\"Options:\"","\"  -h, --help\t\tprint short help message and exit\"","\"  -v, --version\t\tprint version info and exit\"","\"\"","\"  --force               force removal of INDEX file\"","\"  --keep-empty-dirs     do not remove empty dirs\"","\"  --no-build-vignettes  do not (re)build package vignettes\"","\"  --no-manual           do not build the PDF manual even if \\\\Sexprs are present\"","\"  --resave-data=        re-save data files as compactly as possible:\"","'                        \"no\", \"best\", \"gzip\" (default)'","\"  --resave-data         same as --resave-data=best\"","\"  --no-resave-data      same as --resave-data=no\"","\"  --compact-vignettes=  try to compact PDF files under inst/doc:\"","'                        \"no\" (default), \"qpdf\", \"gs\", \"gs+qpdf\", \"both\"'","\"  --compact-vignettes   same as --compact-vignettes=qpdf\"","\"  --compression=        type of compression to be used on tarball:\"","'                        \"gzip\" (default), \"none\", \"bzip2\", \"xz\"'","\"  --md5                 add MD5 sums\"","\"  --log                 log to file 'pkg-00build.log' when processing \"","\"                        the pkgdir with basename 'pkg'\"","\"\"","\"Report bugs at <https://bugs.R-project.org>.\"",{"sep":"\"\\n\""}]]]],["<-","add_build_stamp_to_description_file",["function",[{"ldpath":"","pkgdir":""}],["{",["<-","db",[".read_description","ldpath"]],["if",["dir.exists",["file.path","pkgdir","\"src\""]],["<-",["[","db","\"NeedsCompilation\""],"\"yes\""],["if",["is.na",["[","db","\"NeedsCompilation\""]],["<-",["[","db","\"NeedsCompilation\""],"\"no\""]]],["<-","user",["[",["Sys.info",{}],"\"user\""]],["if",["==","user","\"unknown\""],["<-","user",["Sys.getenv","\"LOGNAME\""]]],["<-",["[","db","\"Packaged\""],["sprintf","\"%s; %s\"",["format",["Sys.time",{}],"''",{"tz":"'UTC'"},{"usetz":"TRUE"}],"user"]],[".write_description","db","ldpath"]]]],["<-","add_expanded_R_fields_to_description_file",["function",[{"ldpath":""}],["{",["<-","db",[".read_description","ldpath"]],["<-","fields",[".expand_package_description_db_R_fields","db"]],["if",["length","fields"],[".write_description",["c","db","fields"],"ldpath"]]]]],["<-","temp_install_pkg",["function",[{"pkgdir":"","libdir":""}],["{",["dir.create","libdir",{"mode":"\"0755\""},{"showWarnings":"FALSE"}],["<-","install_missing_dependencies",["config_val_to_logical",["Sys.getenv","\"_R_BUILD_INSTALL_MISSING_DEPENDENCIES_\"","\"no\""]]],["if",["&&","install_missing_dependencies",["all",["!=",["(",["<-","repos",["getOption","\"repos\""]]],"\"@CRAN@\""]]],["{",["<-","available",[["::","utils","available.packages"],{"repos":"repos"}]],["<-","db",[".read_description",["file.path","pkgdir","\"DESCRIPTION\""]]],["<-","package",["[","db","\"Package\""]],["<-","available",["rbind",["[","available",["!=",["[","available",{},"\"Package\""],"package"],{},{"drop":"FALSE"}],["[","db",["colnames","available"]]]],["<-","depends",["package_dependencies","package","available",{"which":"\"most\""}]],["<-","depends",["setdiff",["unlist","depends"],[["::","utils","installed.packages"],{}]]],["if",["length","depends"],["{",["message",["paste",["strwrap",["sprintf","\"installing dependencies %s\"",["paste",["sQuote",["sort","depends"]],{"collapse":"\", \""}]],{"exdent":"2L"}],{"collapse":"\"\\n\""}],{"domain":"NA"}],[["::","utils","install.packages"],"depends","libdir",{"available":["[","available",["-",["nrow","available"]],{},{"drop":"FALSE"}]},{"dependencies":"NA"}]]]]],["if","WINDOWS",["{",["<-","cmd",["file.path",["R.home","\"bin\""],"\"Rcmd.exe\""]],["<-","args",["c","\"INSTALL -l\"",["shQuote","libdir"],"\"--no-multiarch\"",["shQuote","pkgdir"]]]],["{",["<-","cmd",["file.path",["R.home","\"bin\""],"\"R\""]],["<-","args",["c","\"CMD\"","\"INSTALL -l\"",["shQuote","libdir"],"\"--no-multiarch\"",["shQuote","pkgdir"]]]]],["<-","res",["system_with_capture","cmd","args"]],["if",["$","res","status"],["{",["printLog","Log","\"      -----------------------------------\\n\""],["printLog0","Log",["paste",["c",["$","res","stdout"],"\"\""],{"collapse":"\"\\n\""}]],["printLog","Log","\"      -----------------------------------\\n\""],["unlink","libdir",{"recursive":"TRUE"}],["printLog","Log","\"ERROR: package installation failed\\n\""],["do_exit","1L"]]],["Sys.setenv",{"\"R_BUILD_TEMPLIB\"":"libdir"}],"TRUE"]]],["<-","prepare_pkg",["function",[{"pkgdir":"","desc":"","Log":""}],["{",["<-","owd",["setwd","pkgdir"]],["on.exit",["setwd","owd"]],["checkingLog","Log","\"DESCRIPTION meta-information\""],["<-","res",["try",[".check_package_description","\"DESCRIPTION\""]]],["if",["inherits","res","\"try-error\""],["{",["resultLog","Log","\"ERROR\""],["messageLog","Log","\"running '.check_package_description' failed\""]],["{",["if",["any",["lengths","res"]],["{",["resultLog","Log","\"ERROR\""],["print","res"],["do_exit","1L"]],["resultLog","Log","\"OK\""]]]],["cleanup_pkg","pkgdir","Log"],["<-","libdir",["tempfile","\"Rinst\""]],["<-","ensure_installed",["function",[],["if",["!","pkgInstalled"],["{",["messageLog","Log","\"installing the package to build vignettes\""],["<<-","pkgInstalled",["temp_install_pkg","pkgdir","libdir"]]]]]],["<-","pkgInstalled",["build_Rd_db","pkgdir","libdir","desc"]],["if",["file.exists","\"INDEX\""],["update_Rd_index","\"INDEX\"","\"man\"","Log"]],["<-","doc_dir",["file.path","\"inst\"","\"doc\""]],["if",["%in%","\"makefile\"",["dir","doc_dir"]],["{",["messageLog","Log","\"renaming 'inst/doc/makefile' to 'inst/doc/Makefile'\""],["file.rename",["file.path","doc_dir","\"makefile\""],["file.path","doc_dir","\"Makefile\""]]]],["if",["&&","vignettes",["parse_description_field","desc","\"BuildVignettes\"","TRUE"]],["{",["<-","vignette_index_path",["file.path","\"build\"","\"vignette.rds\""]],["if",["file.exists","vignette_index_path"],["unlink","vignette_index_path"]],["loadVignetteBuilder","pkgdir","TRUE"],["<-","vigns",["pkgVignettes",{"dir":"'.'"},{"check":"TRUE"}]],["if",["&&",["!",["is.null","vigns"]],["length",["$","vigns","docs"]]],["{",["ensure_installed",{}],["creatingLog","Log","\"vignettes\""],["<-","R_LIBS",["Sys.getenv","\"R_LIBS\"","NA_character_"]],["if",["!",["is.na","R_LIBS"]],["{",["on.exit",["Sys.setenv",{"R_LIBS":"R_LIBS"}],{"add":"TRUE"}],["Sys.setenv",{"R_LIBS":["path_and_libPath","libdir","R_LIBS"]}]],["{",["on.exit",["Sys.unsetenv","\"R_LIBS\""],{"add":"TRUE"}],["Sys.setenv",{"R_LIBS":"libdir"}]]],["<-","cmd",["file.path",["R.home","\"bin\""],"\"Rscript\""]],["<-","args",["c","\"--vanilla\"","\"--default-packages=\"","\"-e\"",["shQuote","\"tools::buildVignettes(dir = '.', tangle = TRUE)\""]]],["<-","oPATH",["Sys.getenv","\"PATH\""]],["Sys.setenv",{"PATH":["paste",["R.home","\"bin\""],"oPATH",{"sep":["$",".Platform","path.sep"]}]}],["<-","res",["system_with_capture","cmd","args"]],["Sys.setenv",{"PATH":"oPATH"}],["if",["$","res","status"],["{",["resultLog","Log","\"ERROR\""],["printLog0","Log",["paste",["c",["$","res","stdout"],"\"\""],{"collapse":"\"\\n\""}]],["do_exit","1L"]],["{",["<-","vigns",["pkgVignettes",{"dir":"'.'"},{"output":"TRUE"},{"source":"TRUE"}]],["stopifnot",["!",["is.null","vigns"]]],["resultLog","Log","\"OK\""]]],["if",["==",["basename",["$","vigns","dir"]],"\"vignettes\""],["{",["dir.create","doc_dir",{"recursive":"TRUE"},{"showWarnings":"FALSE"}],["<-","tocopy",["unique",["c",["$","vigns","docs"],["$","vigns","outputs"],["unlist",["$","vigns","sources"]]]]],["<-","copied",["file.copy","tocopy","doc_dir",{"copy.date":"TRUE"}]],["if",["!",["all","copied"]],["{",["warning",["sprintf",["ngettext",["sum",["!","copied"]],"\"%s file\\n\"","\"%s files\\n\""],["sQuote","\"inst/doc\""]],["strwrap",["paste",["sQuote",["basename",["[","tocopy",["!","copied"]]]],{"collapse":"\", \""}],{"indent":"4"},{"exdent":"2"}],"\"\\n  ignored as vignettes have been rebuilt.\"","\"\\n  Run R CMD build with --no-build-vignettes to prevent rebuilding.\"",{"call.":"FALSE"}],["file.copy",["[","tocopy",["!","copied"]],"doc_dir",{"overwrite":"TRUE"},{"copy.date":"TRUE"}]]],["unlink",["c",["$","vigns","outputs"],["unlist",["$","vigns","sources"]]]],["<-","extras_file",["file.path","\"vignettes\"","\".install_extras\""]],["if",["file.exists","extras_file"],["{",["<-","extras",["readLines","extras_file",{"warn":"FALSE"}]],["if",["length","extras"],["{",["<-","allfiles",["dir","\"vignettes\"",{"all.files":"TRUE"},{"full.names":"TRUE"},{"recursive":"TRUE"},{"include.dirs":"TRUE"}]],["<-","inst",["rep.int","FALSE",["length","allfiles"]]],["for","e","extras",["<-","inst",["|","inst",["grepl","e","allfiles",{"perl":"TRUE"},{"ignore.case":"TRUE"}]]]],["file.copy",["[","allfiles","inst"],"doc_dir",{"recursive":"TRUE"},{"copy.date":"TRUE"}]]]]]]],["<-","vignetteIndex",[".build_vignette_index","vigns"]],["if",[">",["NROW","vignetteIndex"],"0L"],["{",["<-","sources",["$","vignetteIndex","R"]],["for","i",["seq_along","sources"],["{",["<-","file",["file.path","doc_dir",["[","sources","i"]]],["if",["!",["file_test","\"-f\"","file"]],["next"]],["<-","bfr",["readLines","file",{"warn":"FALSE"}]],["if",["all",["grepl","\"(^###|^[[:space:]]*$)\"","bfr",{"useBytes":"TRUE"}]],["{",["unlink","file"],["<-",["[",["$","vignetteIndex","R"],"i"],"\"\""]]]]]]],["dir.create","\"build\"",{"showWarnings":"FALSE"}],["saveRDS","vignetteIndex",{"file":"vignette_index_path"},{"version":"2L"}]]]],["{",["<-","fv",["file.path","\"build\"","\"vignette.rds\""]],["if",["file.exists","fv"],["{",["checkingLog","Log","\"vignette meta-information\""],["<-","db",["readRDS","fv"]],["<-","pdfs",["file.path","\"inst\"","\"doc\"",["$",["[","db",["nzchar",["$","db","PDF"]],{}],"PDF"]]],["<-","missing",["!",["file.exists","pdfs"]]],["if",["any","missing"],["{",["<-","msg",["c","\"Output(s) listed in 'build/vignette.rds' but not in package:\"",["strwrap",["sQuote",["[","pdfs","missing"]],{"indent":"2L"},{"exdent":"2L"}],"\"Run R CMD build without --no-build-vignettes to re-create\""]],["errorLog","Log",["paste","msg",{"collapse":"\"\\n\""}]],["do_exit","1L"]],["resultLog","Log","\"OK\""]]]]]],["if",["&&",["!=","compact_vignettes","\"no\""],["length",["<-","pdfs",["dir","doc_dir",{"pattern":"\"[.]pdf\""},{"recursive":"TRUE"},{"full.names":"TRUE"}]]]],["{",["messageLog","Log","\"compacting vignettes and other PDF files\""],["if",["%in%","compact_vignettes",["c","\"gs\"","\"gs+qpdf\"","\"both\""]],["{",["<-","gs_cmd",["find_gs_cmd",{}]],["<-","gs_quality","\"ebook\""]],["{",["<-","gs_cmd","\"\""],["<-","gs_quality","\"none\""]]],["<-","qpdf",["if",["%in%","compact_vignettes",["c","\"qpdf\"","\"gs+qpdf\"","\"both\""]],["Sys.which",["Sys.getenv","\"R_QPDF\"","\"qpdf\""]],"\"\""]],["<-","res",["compactPDF","pdfs",{"qpdf":"qpdf"},{"gs_cmd":"gs_cmd"},{"gs_quality":"gs_quality"}]],["<-","res",["format","res",{"diff":"1e5"}]],["if",["length","res"],["printLog0","Log",["paste0","\"  \"",["format","res"],{"collapse":"\"\\n\""}],"\"\\n\""]]]],["if","pkgInstalled",["{",["unlink","libdir",{"recursive":"TRUE"}],["cleanup_pkg","pkgdir","Log"]]]]]],["<-","cleanup_pkg",["function",[{"pkgdir":"","Log":""}],["{",["<-","owd",["setwd","pkgdir"]],["on.exit",["setwd","owd"]],["<-","pkgname",["basename","pkgdir"]],["if",["dir.exists","\"src\""],["{",["setwd","\"src\""],["messageLog","Log","\"cleaning src\""],["if","WINDOWS",["{",["<-","have_make",["nzchar",["Sys.which",["Sys.getenv","\"MAKE\"","\"make\""]]]],["if",["file.exists","\"Makefile.win\""],["{",["if","have_make",["Ssystem",["Sys.getenv","\"MAKE\"","\"make\""],"\"-f Makefile.win clean\""],["warning","\"unable to run 'make clean' in 'src'\"",{"domain":"NA"}]]],["{",["if",["file.exists","\"Makevars.win\""],["{",["if","have_make",["{",["<-","makefiles",["paste","\"-f\"",["shQuote",["file.path",["R.home","\"share\""],"\"make\"","\"clean.mk\""]],"\"-f Makevars.win\""]],["Ssystem",["Sys.getenv","\"MAKE\"","\"make\""],["c","makefiles","\"clean\""]]],["warning","\"unable to run 'make clean' in 'src'\"",{"domain":"NA"}]]]],["unlink",["c",["Sys.glob",["c","\"*.o\"","\"*.so\"","\"*.dylib\"","\"*.mod\""]],["paste0","pkgname",["c","\".a\"","\".dll\"","\".def\""]],"\"symbols.rds\""]],["if",["dir.exists","\".libs\""],["unlink","\".libs\"",{"recursive":"TRUE"}]],["if",["dir.exists","\"_libs\""],["unlink","\"_libs\"",{"recursive":"TRUE"}]]]]],["{",["<-","makefiles",["paste","\"-f\"",["shQuote",["file.path",["R.home","\"etc\""],["Sys.getenv","\"R_ARCH\""],"\"Makeconf\""]]]],["if",["file.exists","\"Makefile\""],["{",["<-","makefiles",["paste","makefiles","\"-f\"","\"Makefile\""]],["Ssystem",["Sys.getenv","\"MAKE\"","\"make\""],["c","makefiles","\"clean\""]]],["{",["if",["file.exists","\"Makevars\""],["{",["<-","makefiles",["paste","makefiles","\"-f\"",["shQuote",["file.path",["R.home","\"share\""],"\"make\"","\"clean.mk\""]],"\"-f Makevars\""]],["Ssystem",["Sys.getenv","\"MAKE\"","\"make\""],["c","makefiles","\"clean\""]]]],["unlink",["c",["Sys.glob",["c","\"*.o\"","\"*.so\"","\"*.dylib\"","\"*.mod\""]],["paste0","pkgname",["c","\".a\"","\".dll\"","\".def\""]],"\"symbols.rds\""]],["if",["dir.exists","\".libs\""],["unlink","\".libs\"",{"recursive":"TRUE"}]],["if",["dir.exists","\"_libs\""],["unlink","\"_libs\"",{"recursive":"TRUE"}]]]]]]]],["setwd","owd"],["if","WINDOWS",["{",["if",["file.exists","\"cleanup.win\""],["{",["if",["nzchar",["Sys.which","\"sh.exe\""]],["{",["Sys.setenv",{"R_PACKAGE_NAME":"pkgname"}],["Sys.setenv",{"R_PACKAGE_DIR":"pkgdir"}],["Sys.setenv",{"R_LIBRARY_DIR":["dirname","pkgdir"]}],["messageLog","Log","\"running 'cleanup.win'\""],["Ssystem","\"sh\"","\"./cleanup.win\""]]]]]],["if",["file_test","\"-x\"","\"cleanup\""],["{",["Sys.setenv",{"R_PACKAGE_NAME":"pkgname"}],["Sys.setenv",{"R_PACKAGE_DIR":"pkgdir"}],["Sys.setenv",{"R_LIBRARY_DIR":["dirname","pkgdir"]}],["messageLog","Log","\"running 'cleanup'\""],["Ssystem","\"./cleanup\""]]]]]]],["<-","update_Rd_index",["function",[{"oldindex":"","Rd_files":"","Log":""}],["{",["<-","newindex",["tempfile",{}]],["<-","res",["tryCatch",["Rdindex","Rd_files","newindex"],{"error":["function",[{"e":""}],["{",["errorLog","Log","\"computing Rd index failed:\"",["conditionMessage","e"]],["do_exit","1L"]]]}]],["checkingLog","Log","\"whether \"",["sQuote","oldindex"],"\" is up-to-date\""],["if",["file.exists","oldindex"],["{",["<-","ol",["readLines","oldindex",{"warn":"FALSE"}]],["<-","nl",["readLines","newindex"]],["if",["!",["identical","ol","nl"]],["{",["resultLog","Log","\"NO\""],["if","force",["{",["messageLog","Log","\"removing \"",["sQuote","oldindex"],"\" as '--force' was given\""],["unlink","oldindex"]],["{",["messageLog","Log","\"use '--force' to remove \"","\"the existing \"",["sQuote","oldindex"]],["unlink","newindex"]]]],["{",["resultLog","Log","\"OK\""],["unlink","newindex"]]]],["{",["resultLog","Log","\"NO\""],["messageLog","Log","\"creating new \"",["sQuote","oldindex"]],["file.rename","newindex","oldindex"]]]]]],["<-","build_Rd_db",["function",[{"pkgdir":"","libdir":"","desc":""}],["{",["<-","build_partial_Rd_db_path",["file.path","\"build\"","\"partial.rdb\""]],["if",["file.exists","build_partial_Rd_db_path"],["unlink","build_partial_Rd_db_path"]],["<-","build_refman_path",["file.path","pkgdir","\"build\"",["paste0",["basename","pkgdir"],"\".pdf\""]]],["if",["file.exists","build_refman_path"],["unlink","build_refman_path"]],["<-","db",[".build_Rd_db","pkgdir",{"stages":"NULL"},{"os":["c","\"unix\"","\"windows\""]},{"step":"1"}]],["if",["!",["length","db"]],["return","FALSE"]],["<-",["names","db"],["substring",["names","db"],["+",["nchar",["file.path","pkgdir","\"man\""]],"2L"]]],["<-","containsSexprs",["which",["sapply","db",["function",[{"Rd":""}],["[",["getDynamicFlags","Rd"],"\"\\\\Sexpr\""]]]]],["if",["!",["length","containsSexprs"]],["return","FALSE"]],["messageLog","Log","\"installing the package to process help pages\""],["dir.create","libdir",{"mode":"\"0755\""},{"showWarnings":"FALSE"}],["<-","savelib",[".libPaths",{}]],[".libPaths",["c","libdir","savelib"]],["on.exit",[".libPaths","savelib"],{"add":"TRUE"}],["temp_install_pkg","pkgdir","libdir"],["<-","containsBuildSexprs",["which",["sapply","db",["function",[{"Rd":""}],["[",["getDynamicFlags","Rd"],"\"build\""]]]]],["if",["length","containsBuildSexprs"],["{",["for","i","containsBuildSexprs",["<-",["[[","db","i"],["prepare_Rd",["[[","db","i"],{"stages":"\"build\""},{"stage2":"FALSE"},{"stage3":"FALSE"}]]],["messageLog","Log","\"saving partial Rd database\""],["<-","partial",["[","db","containsBuildSexprs"]],["dir.create","\"build\"",{"showWarnings":"FALSE"}],["saveRDS","partial","build_partial_Rd_db_path",{"version":"2L"}]]],["<-","needRefman",["&&",["&&","manual",["parse_description_field","desc","\"BuildManual\"","TRUE"]],["any",["vapply","db",["function",[{"Rd":""}],["any",["[",["getDynamicFlags","Rd"],["c","\"install\"","\"render\""]]]],"NA"]]]],["if","needRefman",["{",["messageLog","Log","\"building the PDF package manual\""],["dir.create","\"build\"",{"showWarnings":"FALSE"}],["..Rd2pdf",["c","\"--force\"","\"--no-preview\"",["paste0","\"--output=\"","build_refman_path"],"pkgdir"],{"quit":"FALSE"}]]],["return","TRUE"]]]],["<-","fix_nonLF_in_files",["function",[{"pkgname":"","dirPattern":"","Log":""}],["{",["<-","sDir",["file.path","pkgname",["c","\"src\"","\"inst/include\""]]],["<-","files",["dir","sDir",{"pattern":"dirPattern"},{"full.names":"TRUE"},{"recursive":"TRUE"}]],["for","ff","files",["{",["<-","old_time",["file.mtime","ff"]],["<-","lines",["readLines","ff",{"warn":"FALSE"}]],["writeLinesNL","lines","ff"],["Sys.setFileTime","ff","old_time"]]]]]],["<-","fix_nonLF_in_source_files",["function",[{"pkgname":"","Log":""}],["{",["fix_nonLF_in_files","pkgname",{"dirPattern":"\"\\\\.([cfh]|cc|cpp|hpp)$\""},"Log"]]]],["<-","fix_nonLF_in_make_files",["function",[{"pkgname":"","Log":""}],["{",["fix_nonLF_in_files","pkgname",["paste0","\"^(\"",["paste",["c","\"Makefile\"","\"Makefile.in\"","\"Makefile.win\"","\"Makevars\"","\"Makevars.in\"","\"Makevars.win\""],{"collapse":"\"|\""}],"\")$\""],"Log"],["<-","makes",["dir","pkgname",{"pattern":"\"^Makefile$\""},{"full.names":"TRUE"},{"recursive":"TRUE"}]],["for","ff","makes",["{",["<-","lines",["readLines","ff",{"warn":"FALSE"}]],["writeLinesNL","lines","ff"]]]]]],["<-","fix_nonLF_in_config_files",["function",[{"pkgname":"","Log":""}],["{",["<-","files",["dir","pkgname",{"pattern":"\"^(configure|cleanup)$\""},{"full.names":"TRUE"},{"recursive":"TRUE"}]],["for","ff","files",["{",["<-","lines",["readLines","ff",{"warn":"FALSE"}]],["writeLinesNL","lines","ff"]]]]]],["<-","find_empty_dirs",["function",[{"d":""}],["{",["<-","files",["dir","d",{"all.files":"TRUE"},{"full.names":"TRUE"}]],["for","dd",["[","files",["dir.exists","files"]],["{",["if",["grepl","\"/\\\\.+$\"","dd"],["next"]],["find_empty_dirs","dd"]]],["<-","keep_empty1",["parse_description_field","desc","\"BuildKeepEmpty\"","keep_empty"]],["if",["!","keep_empty1"],["<-","files",["dir","d",{"all.files":"TRUE"},{"full.names":"TRUE"}]]],["if",["<=",["length","files"],"2L"],["{",["if","keep_empty1",["{",["printLog","Log","\"WARNING: directory \"",["sQuote","d"],"\" is empty\\n\""]],["{",["unlink","d",{"recursive":"TRUE"}],["printLog","Log","\"Removed empty directory \"",["sQuote","d"],"\"\\n\""]]]]]]]],["<-","fixup_R_dep",["function",[{"pkgname":"","ver":"\"2.10\""}],["{",["<-","desc",[".read_description",["file.path","pkgname","\"DESCRIPTION\""]]],["<-","Rdeps",["$",[".split_description","desc"],"Rdepends2"]],["for","dep","Rdeps",["{",["if",["!=",["$","dep","op"],"'>='"],["next"]],["if",[">=",["$","dep","version"],["package_version","ver"]],["return",{}]]]],["on.exit",["Sys.setlocale","\"LC_CTYPE\"",["Sys.getlocale","\"LC_CTYPE\""]]],["Sys.setlocale","\"LC_CTYPE\"","\"C\""],["<-","flatten",["function",[{"x":""}],["{",["if",["==",["length","x"],"3L"],["paste0",["$","x","name"],"\" (\"",["$","x","op"],"\" \"",["$","x","version"],"\")\""],["[[","x","1L"]]]]],["<-","deps",["[","desc","\"Depends\""]],["<-",["[","desc","\"Depends\""],["if",["!",["is.na","deps"]],["{",["<-","deps",[".split_dependencies","deps"]],["<-","deps",["[","deps",["!=",["names","deps"],"\"R\""]]],["paste",["c",["sprintf","\"R (>= %s)\"","ver"],["sapply","deps","flatten"]],{"collapse":"\", \""}]],["sprintf","\"R (>= %s)\"","ver"]]],[".write_description","desc",["file.path","pkgname","\"DESCRIPTION\""]],["printLog","Log","\"  NB: this package now depends on R (>= \"","ver","\")\\n\""]]]],["<-","resave_data_rda",["function",[{"pkgname":"","resave_data":""}],["{",["if",["==","resave_data","\"no\""],["return",{}]],["<-","ddir",["file.path","pkgname","\"data\""]],["if",["==","resave_data","\"best\""],["{",["<-","files",["Sys.glob",["c",["file.path","ddir","\"*.rda\""],["file.path","ddir","\"*.RData\""],["file.path","pkgname","\"R\"","\"sysdata.rda\""]]]],["messageLog","Log","\"re-saving image files\""],["resaveRdaFiles","files"],["<-","rdas",["checkRdaFiles","files"]],["if",["any",["%in%",["$","rdas","compress"],["c","\"bzip2\"","\"xz\""]]],["fixup_R_dep","pkgname","\"2.10\""]]],["{",["<-","rdas",["checkRdaFiles",["Sys.glob",["c",["file.path","ddir","\"*.rda\""],["file.path","ddir","\"*.RData\""]]]]],["if",["nrow","rdas"],["{",["<-","update",["with","rdas",["|",["|","ASCII",["==","compress","\"none\""]],["<","version","2"]]]],["if",["any","update"],["{",["messageLog","Log","\"re-saving image files\""],["resaveRdaFiles",["[",["row.names","rdas"],"update"],"\"gzip\""]]]]],["if",["file.exists",["<-","f",["file.path","pkgname","\"R\"","\"sysdata.rda\""]]],["{",["<-","rdas",["checkRdaFiles","f"]],["<-","update",["with","rdas",["|",["|","ASCII",["==","compress","\"none\""]],["<","version","2"]]]],["if",["any","update"],["{",["messageLog","Log","\"re-saving sysdata.rda\""],["resaveRdaFiles","f","\"gzip\""]]]]]]]]]],["<-","resave_data_others",["function",[{"pkgname":"","resave_data":""}],["{",["if",["==","resave_data","\"no\""],["return",{}]],["if",["!",["dir.exists",["<-","ddir",["file.path","pkgname","\"data\""]]]],["return",{}]],["<-","ddir",["normalizePath","ddir"]],["<-","dataFiles",["filtergrep","\"\\\\.(rda|RData)$\"",["list_files_with_type","ddir","\"data\""]]],["if",["!",["length","dataFiles"]],["return",{}]],["<-","resaved",["character",{}]],["on.exit",["unlink","resaved"]],["<-","Rs",["grep","\"\\\\.[Rr]$\"","dataFiles",{"value":"TRUE"}]],["if",["length","Rs"],["{",["messageLog","Log","\"re-saving .R files as .rda\""],["lapply","Rs",["function",[{"x":""}],["{",["<-","envir",["new.env",{"hash":"TRUE"}]],["sys.source","x",{"chdir":"TRUE"},{"envir":"envir"}],["save",{"list":["ls","envir",{"all.names":"TRUE"}]},{"file":["sub","\"\\\\.[Rr]$\"","\".rda\"","x"]},{"compress":"TRUE"},{"compression_level":"9"},{"envir":"envir"},{"version":"2L"}],["<<-","resaved",["c","resaved","x"]]]]],["printLog","Log","\"  NB: *.R converted to .rda: other files may need to be removed\\n\""]]],["<-","tabs",["grep","\"\\\\.(CSV|csv|TXT|tab|txt)$\"","dataFiles",{"value":"TRUE"}]],["if",["length","tabs"],["{",["messageLog","Log","\"re-saving tabular files\""],["if",["==","resave_data","\"gzip\""],["{",["lapply","tabs",["function",[{"nm":""}],["{",["<-","x",["readLines","nm",{"warn":"FALSE"}]],["<-","con",["gzfile",["paste0","nm","\".gz\""],"\"wb\""]],["writeLines","x","con"],["close","con"],["<<-","resaved",["c","resaved","nm"]]]]]],["{",["<-","OK","TRUE"],["lapply","tabs",["function",[{"nm":""}],["{",["<-","x",["readLines","nm",{"warn":"FALSE"}]],["<-","nm3",["paste","nm",["c","\"gz\"","\"bz2\"","\"xz\""],{"sep":"\".\""}]],["<-","con",["gzfile",["[","nm3","1L"],"\"wb\"",{"compression":"9L"}]],["writeLines","x","con"],["close","con"],["<-","con",["bzfile",["[","nm3","2L"],"\"wb\"",{"compression":"9L"}]],["writeLines","x","con"],["close","con"],["<-","con",["xzfile",["[","nm3","3L"],"\"wb\"",{"compression":"9L"}]],["writeLines","x","con"],["close","con"],["<-","sizes",["*",["file.size","nm3"],["c","0.9","1","1"]]],["<-","ind",["which.min","sizes"]],["if",[">","ind","1"],["<<-","OK","FALSE"]],["<<-","resaved",["c","resaved","nm",["[","nm3",["-","ind"]]]]]]],["if",["!","OK"],["fixup_R_dep","pkgname","\"2.10\""]]]]]]]]],["<-","force","FALSE"],["<-","vignettes","TRUE"],["<-","manual","TRUE"],["<-","with_md5","FALSE"],["<-","with_log","FALSE"],["<-","pkgs",["character",{}]],["options",{"showErrorCalls":"FALSE"},{"warn":"1"}],["<-","Renv",["Sys.getenv","\"R_BUILD_ENVIRON\"",{"unset":"NA_character_"}]],["if",["!",["is.na","Renv"]],["{",["if",["&&",["nzchar","Renv"],["file.exists","Renv"]],["readRenviron","Renv"]]],["{",["<-","rarch",["$",".Platform","r_arch"]],["if",["&&",["nzchar","rarch"],["file.exists",["<-","Renv",["paste0","\"~/.R/build.Renviron.\"","rarch"]]]],["readRenviron","Renv"],["if",["file.exists",["<-","Renv","\"~/.R/build.Renviron\""]],["readRenviron","Renv"]]]]],["<-","compact_vignettes",["Sys.getenv","\"_R_BUILD_COMPACT_VIGNETTES_\"","\"no\""]],["<-","resave_data",["Sys.getenv","\"_R_BUILD_RESAVE_DATA_\"","\"gzip\""]],["<-","keep_empty",["config_val_to_logical",["Sys.getenv","\"_R_BUILD_KEEP_EMPTY_DIRS_\"","\"FALSE\""]]],["if",["is.null","args"],["{",["<-","args",["commandArgs","TRUE"]],["<-","args",["paste","args",{"collapse":"\" \""}]],["<-","args",["[",["[[",["strsplit","args","'nextArg'",{"fixed":"TRUE"}],"1L"],["-","1L"]]]]],["<-","compression","\"gzip\""],["while",["length","args"],["{",["<-","a",["[","args","1L"]],["if",["%in%","a",["c","\"-h\"","\"--help\""]],["{",["Usage",{}],["do_exit","0L"]],["if",["%in%","a",["c","\"-v\"","\"--version\""]],["{",["cat","\"R add-on package builder: \"",["[[","R.version","\"major\""],"\".\"",["[[","R.version","\"minor\""],"\" (r\"",["[[","R.version","\"svn rev\""],"\")\\n\"",{"sep":"\"\""}],["cat","\"\"",[".R_copyright_msg","1997"],"\"This is free software; see the GNU General Public License version 2\"","\"or later for copying conditions.  There is NO warranty.\"",{"sep":"\"\\n\""}],["do_exit","0L"]],["if",["==","a","\"--force\""],["{",["<-","force","TRUE"]],["if",["==","a","\"--keep-empty-dirs\""],["{",["<-","keep_empty","TRUE"]],["if",["==","a","\"--no-build-vignettes\""],["{",["<-","vignettes","FALSE"]],["if",["==","a","\"--no-vignettes\""],["{",["stop","\"'--no-vignettes' is defunct:\\n  use '--no-build-vignettes' instead\"",{"call.":"FALSE"},{"domain":"NA"}]],["if",["==","a","\"--resave-data\""],["{",["<-","resave_data","\"best\""]],["if",["==","a","\"--no-resave-data\""],["{",["<-","resave_data","\"no\""]],["if",["==",["substr","a","1","14"],"\"--resave-data=\""],["{",["<-","resave_data",["substr","a","15","1000"]]],["if",["==","a","\"--no-manual\""],["{",["<-","manual","FALSE"]],["if",["==",["substr","a","1","20"],"\"--compact-vignettes=\""],["{",["<-","compact_vignettes",["substr","a","21","1000"]]],["if",["==","a","\"--compact-vignettes\""],["{",["<-","compact_vignettes","\"qpdf\""]],["if",["==","a","\"--md5\""],["{",["<-","with_md5","TRUE"]],["if",["==","a","\"--log\""],["{",["<-","with_log","TRUE"]],["if",["==",["substr","a","1","14"],"\"--compression=\""],["{",["<-","compression",["match.arg",["substr","a","15","1000"],["c","\"none\"","\"gzip\"","\"bzip2\"","\"xz\""]]]],["if",["startsWith","a","\"-\""],["{",["message","\"Warning: unknown option \"",["sQuote","a"]]],["<-","pkgs",["c","pkgs","a"]]]]]]]]]]]]]]]]]],["<-","args",["[","args",["-","1L"]]]]],["if",["%notin%","compact_vignettes",["c","\"no\"","\"qpdf\"","\"gs\"","\"gs+qpdf\"","\"both\""]],["{",["warning",["gettextf","\"invalid value for '--compact-vignettes', assuming %s\"","\"\\\"qpdf\\\"\""],{"domain":"NA"}],["<-","compact_vignettes","\"qpdf\""]]],["Sys.unsetenv","\"R_DEFAULT_PACKAGES\""],["<-","startdir",["getwd",{}]],["if",["is.null","startdir"],["stop","\"current working directory cannot be ascertained\""]],["if","WINDOWS",["{",["<-","rhome",["chartr","\"\\\\\"","\"/\"",["R.home",{}]]],["Sys.setenv",{"R_HOME":"rhome"}]]],["for","pkg","pkgs",["{",["<-","pkg",["sub","\"/$\"","\"\"","pkg"]],["<-","Log",["if","with_log",["newLog",["paste0",["file.path","startdir",["basename","pkg"]],"\"-00build.log\""]],["newLog",{}]]],["setwd","startdir"],["<-","res",["tryCatch",["setwd","pkg"],{"error":["function",[{"e":""}],["{",["errorLog","Log","\"cannot change to directory \"",["sQuote","pkg"]],["do_exit","1L"]]]}]],["<-","pkgdir",["getwd",{}]],["<-","pkgname",["basename","pkgdir"]],["checkingLog","Log","\"for file \"",["sQuote",["file.path","pkg","\"DESCRIPTION\""]]],["<-","f",["file.path","pkgdir","\"DESCRIPTION\""]],["if",["file.exists","f"],["{",["<-","desc",["try",[".read_description","f"]]],["if",["||",["inherits","desc","\"try-error\""],["!",["length","desc"]]],["{",["resultLog","Log","\"EXISTS but not correct format\""],["do_exit","1L"]]],["resultLog","Log","\"OK\""]],["{",["resultLog","Log","\"NO\""],["do_exit","1L"]]],["if",["||",["||",["is.na",["<-","intname",["[","desc","\"Package\""]]],["!",["length","intname"]]],["!",["nchar","intname"]]],["{",["errorLog","Log","\"invalid 'Package' field\""],["do_exit","1L"]]],["setwd",["dirname","pkgdir"]],["<-","filename",["paste0","intname","\"_\"",["[","desc","\"Version\""],"\".tar\""]],["<-","filepath",["file.path","startdir","filename"]],["<-","Tdir",["tempfile","\"Rbuild\""]],["dir.create","Tdir",{"mode":"\"0755\""}],["if","WINDOWS",["{",["if",["!",["file.copy","pkgname","Tdir",{"recursive":"TRUE"},{"copy.date":"TRUE"}]],["{",["errorLog","Log","\"copying to build directory failed\""],["do_exit","1L"]]]],["{",["<-","ver",["suppressWarnings",["system2","\"cp\"","\"--version\"",{"stdout":"TRUE"},{"stderr":"FALSE"}]]],["<-","GNU_cp",["any",["grepl","\"GNU coreutils\"","ver"]]],["<-","cp_sw",["if","GNU_cp","\"-LR --preserve=timestamps\"","\"-pLR\""]],["if",["system2","\"cp\"",["c","cp_sw",["shQuote","pkgname"],["shQuote","Tdir"]]],["{",["errorLog","Log","\"copying to build directory failed\""],["do_exit","1L"]]]]],["setwd","Tdir"],["if",["!=","pkgname","intname"],["{",["if",["!",["file.rename","pkgname","intname"]],["{",["message",["gettextf","\"Error: cannot rename directory to %s\"",["sQuote","intname"]],{"domain":"NA"}],["do_exit","1L"]]],["<-","pkgname","intname"]]],["messageLog","Log","\"preparing \"",["sQuote","pkgname"],"\":\""],["prepare_pkg",["normalizePath","pkgname","\"/\""],"desc","Log"],["<-","owd",["setwd","pkgname"]],["<-","allfiles",["dir","\".\"",{"all.files":"TRUE"},{"recursive":"TRUE"},{"full.names":"TRUE"},{"include.dirs":"TRUE"}]],["<-","allfiles",["substring","allfiles","3L"]],["<-","bases",["basename","allfiles"]],["<-","exclude",["inRbuildignore","allfiles","pkgdir"]],["<-","isdir",["dir.exists","allfiles"]],["<-","exclude",["|","exclude",["(",["&","isdir",["(",["%in%","bases",["c","\"check\"","\"chm\"",".vc_dir_names"]]]]]]],["<-","exclude",["|","exclude",["(",["&","isdir",["grepl","\"([Oo]ld|\\\\.Rcheck)$\"","bases"]]]]],["<-","exclude",["|","exclude",["%in%","bases",["c","\"Read-and-delete-me\"","\"GNUMakefile\""]]]],["<-","exclude",["|","exclude",["startsWith","bases","\"._\""]]],["<-","exclude",["|","exclude",["(",["&","isdir",["grepl","\"^src.*/[.]deps$\"","allfiles"]]]]],["<-","exclude",["|","exclude",["(",["==","allfiles",["paste0","\"src/\"","pkgname","\"_res.rc\""]]]]],["<-","exclude",["|",["|",["|","exclude",["endsWith","allfiles","\"inst/doc/.Rinstignore\""]],["endsWith","allfiles","\"inst/doc/.build.timestamp\""]],["endsWith","allfiles","\"vignettes/.Rinstignore\""]]],["<-","exclude",["|","exclude",["grepl","\"^.Rbuildindex[.]\"","allfiles"]]],["<-","exclude",["|","exclude",["(",["%in%","bases",".hidden_file_exclusions"]]]],["unlink",["[","allfiles","exclude"],{"recursive":"TRUE"},{"force":"TRUE"}],["setwd","owd"],["<-","res",[".check_package_subdirs","pkgname","TRUE"]],["if",["any",["lengths","res"]],["{",["messageLog","Log","\"excluding invalid files\""],["print","res"]]],["setwd","Tdir"],["if",["!","WINDOWS"],[".Call","C_dirchmod","pkgname",{"group.writable":"FALSE"}]],["add_build_stamp_to_description_file",["file.path","pkgname","\"DESCRIPTION\""],"pkgdir"],["add_expanded_R_fields_to_description_file",["file.path","pkgname","\"DESCRIPTION\""]],["messageLog","Log","\"checking for LF line-endings in source and make files and shell scripts\""],["fix_nonLF_in_source_files","pkgname","Log"],["fix_nonLF_in_make_files","pkgname","Log"],["fix_nonLF_in_config_files","pkgname","Log"],["messageLog","Log","\"checking for empty or unneeded directories\""],["find_empty_dirs","pkgname"],["for","dir",["c","\"Meta\"","\"R-ex\"","\"chtml\"","\"help\"","\"html\"","\"latex\""],["{",["<-","d",["file.path","pkgname","dir"]],["if",["dir.exists","d"],["{",["<-","msg",["paste","\"WARNING: Removing directory\"",["sQuote","d"],"\"which should only occur\"","\"in an installed package\""]],["printLog","Log",["paste",["strwrap","msg",{"indent":"0L"},{"exdent":"2L"}],{"collapse":"\"\\n\""}],"\"\\n\""],["unlink","d",{"recursive":"TRUE"}]]]]],["unlink",["file.path","pkgname",["c","\"src-i386\"","\"src-x64\"","\"src-x86_64\"","\"src-ppc\""]],{"recursive":"TRUE"}],["if",["||",["dir.exists",["file.path","pkgname","\"data\""]],["file_test","\"-f\"",["file.path","pkgname","\"R\"","\"sysdata.rda\""]]],["{",["messageLog","Log","\"looking to see if a 'data/datalist' file should be added\""],["tryCatch",["add_datalist","pkgname"],{"error":["function",[{"e":""}],["printLog","Log","\"  unable to create a 'datalist' file: may need the package to be installed\\n\""]]}],["<-","resave_data1",["parse_description_field","desc","\"BuildResaveData\"","resave_data",{"logical":"FALSE"}]],["resave_data_others","pkgname","resave_data1"],["resave_data_rda","pkgname","resave_data1"]]],["<-","desc",[".read_description",["file.path","pkgname","\"DESCRIPTION\""]]],["<-","Rdeps",["$",[".split_description","desc"],"Rdepends2"]],["<-","hasDep350","FALSE"],["for","dep","Rdeps",["{",["if",["!=",["$","dep","op"],"'>='"],["next"]],["if",[">=",["$","dep","version"],"\"3.5.0\""],["<-","hasDep350","TRUE"]]]],["if",["!","hasDep350"],["{",["<-","allfiles",["dir","\".\"",{"all.files":"TRUE"},{"recursive":"TRUE"},{"full.names":"TRUE"}]],["<-","allfiles",["substring","allfiles","3L"]],["<-","vers",["get_serialization_version","allfiles"]],["<-","toonew",["names",["[","vers",[">=","vers","3L"]]]],["if",["length","toonew"],["{",["fixup_R_dep","pkgname","\"3.5.0\""],["<-","msg",["paste","\"WARNING: Added dependency on R >= 3.5.0 because\"","\"serialized objects in serialize/load version 3\"","\"cannot be read in older versions of R. File(s)\"","\"containing such objects:\"",[".pretty_format",["sort","toonew"]],"\"\\n\""]],["printLog","Log",["strwrap","msg",{"indent":"2L"},{"exdent":"2L"}],"\"\\n\""]]]]],["if",["!",["file.exists",["<-","namespace",["file.path","pkgname","\"NAMESPACE\""]]]],["{",["messageLog","Log","\"creating default NAMESPACE file\""],["writeDefaultNamespace","namespace"]]],["if","with_md5",["{",["messageLog","Log","\"adding MD5 file\""],[".installMD5sums","pkgname"]],["{",["unlink",["file.path","pkgname","\"MD5\""]]]],["<-","ext",["switch","compression",{"\"none\"":"\"\""},{"\"gzip\"":"\".gz\""},{"\"bzip2\"":"\".bz2\""},{"\"xz\"":"\".xz\""}]],["<-","filename",["paste0","pkgname","\"_\"",["[","desc","\"Version\""],"\".tar\"","ext"]],["<-","filepath",["file.path","startdir","filename"]],["messageLog","Log","\"building \"",["sQuote","filename"]],["<-","res",[["::","utils","tar"],"filepath","pkgname",{"compression":"compression"},{"compression_level":"9L"},{"tar":["Sys.getenv","\"R_BUILD_TAR\""]},{"extra_flags":"NULL"}]],["if","res",["{",["errorLog","Log","\"packaging into tarball failed\""],["do_exit","1L"]]],["message","\"\""],["setwd","startdir"],["unlink","Tdir",{"recursive":"TRUE"}],["closeLog","Log"]]],["do_exit","0L"]]]]]
