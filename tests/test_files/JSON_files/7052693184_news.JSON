[[],["<-","news",["function",[{"query":"","package":"\"R\"","lib.loc":"NULL","format":"NULL","reader":"NULL","db":"NULL"}],["{",["if",["<-","new.db",["is.null","db"]],["{",["<-","db",["if",["==","package","\"R\""],[[":::","tools",".build_news_db_from_R_NEWS_Rd"],{}],[[":::","tools",".build_news_db"],"package","lib.loc","format","reader"]]]]],["if",["is.null","db"],["return","NULL"]],["if","new.db",["<-",["attr","db","\"package\""],"package"]],["if",["missing","query"],["return","db"]],["<-","db1","db"],["<-","version",["$","db","Version"]],["<-","pos",["regexpr",["sprintf","\"^%s\"",["$",[".standard_regexps",{}],"valid_numeric_version"]],"version"]],["if",["any",["<-","ind",["(",[">","pos",["-","1L"]]]]],["<-",["[","version","ind"],["substring",["[","version","ind"],"1L",["[",["attr","pos","\"match.length\""],"ind"]]]],["<-",["$","db1","Version"],["numeric_version","version",{"strict":"FALSE"}]],["<-",["$","db1","Date"],["as.Date",["$","db","Date"]]],["<-","r",["eval",["substitute","query"],"db1",["parent.frame",{}]]],["if",["!",["is.null","r"]],["{",["if",["||",["!",["is.logical","r"]],["!=",["length","r"],["length","version"]]],["stop","\"invalid query\""]],["<-","r",["&","r",["!",["is.na","r"]]]],["<-","db",["[","db","r",{}]],["if",["!",["all","r"]],["<-",["attr","db","\"subset\""],"r"]]]],"db"]]],["<-","format.news_db",["function",[{"x":"","...":""}],["{",["if",[[":::","tools",".news_db_has_no_bad_entries"],"x"],["{",["<-","vchunks",["split","x",["$","x","Version"]]],["<-","vstrings",["names","vchunks"]],["<-","ind",["!=","vstrings","\"R-devel\""]],["<-","pos",["c",["which",["!","ind"]],["[",["which","ind"],["order",["as.numeric_version",["sub","\" *patched\"","\".1\"",["[","vstrings","ind"]]],{"decreasing":"TRUE"}]]]],["<-","vchunks",["[","vchunks","pos"]],["if",["length","vchunks"],["{",["<-","dates",["sapply","vchunks",["function",[{"v":""}],["[",["$","v","Date"],"1L"]]]],["<-","vstrings",["names","vchunks"]],["<-","ind",["!=","vstrings","\"R-devel\""]],["<-",["[","vstrings","ind"],["sprintf","\"version %s\"",["[","vstrings","ind"]]],["<-","vheaders",["format",["sprintf","\"Changes in %s%s\"","vstrings",["ifelse",["is.na","dates"],"\"\"",["sprintf","\" (%s)\"","dates"]]],{"justify":"\"centre\""},{"width":"72L"}]]],["<-","vheaders",["character",{}]]],["<-","format_items",["function",[{"x":""}],["paste0","\"    o   \"",["gsub","\"\\n\"","\"\\n\\t\"",["$","x","Text"]]]]],["<-","format_vchunk",["function",[{"vchunk":""}],["{",["if",["all",["&",["!",["is.na",["<-","category",["$","vchunk","Category"]]]],["nzchar","category"]]],["{",["<-","cchunks",["split","vchunk",["factor","category",{"levels":["unique","category"]}]]],["<-","cheaders",["names","cchunks"]],["Map","c","cheaders",["lapply","cchunks","format_items"],{"USE.NAMES":"FALSE"}]],["{",["format_items","vchunk"]]]]]],["Map","c","vheaders",["lapply","vchunks","format_vchunk"],{"USE.NAMES":"FALSE"}]],["{",["apply",["as.matrix","x"],"1L",["function",[{"e":""}],["paste",["formatDL",["[","e",["!",["is.na","e"]]],{"style":"\"list\""}],{"collapse":"\"\\n\""}]]]]]]]],["<-","print.news_db",["function",[{"x":"","doBrowse":["interactive",{}],"browser":["getOption","\"browser\""],"...":""}],["{",["<-","port",["if",["&&",["&&",["&&","doBrowse",["!",["identical","\"false\"","browser"]]],["is.character",["<-","pkg",["attr","x","\"package\""]]]],[[":::","tools",".news_db_has_no_bad_entries"],"x"]],[["::","tools","startDynamicHelp"],"NA"],"0L"]],["if",[">","port","0L"],["{",[[":::","tools",".httpd_objects"],"port","x"],["<-","url",["if",["==","pkg","\"R\""],["{",["if",["is.null",["attr","x","\"subset\""]],["{",["sprintf","\"http://127.0.0.1:%d/doc/html/NEWS.html\"","port"]],["sprintf","\"http://127.0.0.1:%d/doc/html/NEWS.html?objects=1&port=%d\"","port","port"]]],["sprintf","\"http://127.0.0.1:%d/library/%s/NEWS?objects=1&port=%d\"","port","pkg","port"]]],["browseURL","url"]],["writeLines",["paste",["unlist",["format","x","..."]],{"collapse":"\"\\n\\n\""}]]],["invisible","x"]]]],["<-","`[.news_db`",["function",[{"x":"","i":"","j":"","drop":""}],["{",["<-","y",["NextMethod",{}]],["if",["&&",["&&",["inherits","y","\"news_db\""],["!",["missing","i"]]],["!",["is.null",["<-","bad",["attr","x","\"bad\""]]]]],["{",["<-",["attr","y","\"bad\""],["[","bad","i"]]]],"y"]]],["<-","subset.news_db",["function",[{"x":"","subset":"","...":""}],["{",["do.call","\"news\"",["list",["substitute","subset"],{"db":"x"}]]]]]]
