[[],["print",["<-","si",["sessionInfo",{}]],{"locale":"FALSE"}],["Sys.info",{}],"'\ntime   make test-large\n'",["<-","Sys.memGB",["function",[{"kind":"\"MemTotal\""}],["{",["<-","mm",["drop",["read.dcf","\"/proc/meminfo\"",{"fields":"kind"}]]],["if",["any",["is.na","mm"]],["{",["warning","\"Non-existing 'kind': \"",["[",["[",["names","mm"],["is.na","mm"]],"1"]],"0"],["if",["!",["all",["grepl","\" kB$\"","mm"]]],["{",["warning","\"Memory info \"",["dQuote","kind"],"\" is not returned in 'kB' aka kiloBytes\""],"0"],["/",["as.numeric",["sub","\" kB$\"","\"\"","mm"]],["(",["*","1000","1024"]]]]]]]],["<-","availableGB",["if",["file.exists","\"/proc/meminfo\""],["{",["Sys.memGB","\"MemAvailable\""]],["{","0"]]],["cat","\"Available (processor aka CPU) memory: \"",["round","availableGB","1"],"\"GB (Giga Bytes)\\n\""],["if",["<",["$",".Machine","sizeof.pointer"],"8"],["{",["cat","\".Machine :\\n\""],["str",".Machine"],["cat","\"not a 64-bit system -- forget about these tests!\\n\""],["q","\"no\""]]],["if",[">","availableGB","11"],["local",["withAutoprint",["{",["<-","tf",["tempfile",{}]],["<-","file",["file","tf","\"wb\""]],["<-","txtLine",["c",["rep",["as.raw",[":","32","127"]],["^","2","5"]],["charToRaw","\"\\n\""]]],["system.time",["{",["for","i",[":","1",["(",["-",["^","2","15"],"1"]]],["writeBin",["rep_len","txtLine",["^","2","16"]],"file"]],["for","i",[":","1",["(",["-",["^","2","15"],"1"]]],["writeBin",["rep_len",["as.raw","0L"],["^","2","16"]],"file"]]]],["close","file"],["log2",["file.size","tf"]],"\"FIXME: on 32-bit Linux (F 24), still see\nProgram received signal SIGSEGV, Segmentation fault.\n... in do_readLines (call=0x8.., op=0x8.., ....)\n    at ../../../R/src/main/connections.c:3852\n3852\t\t    if(c != '\\n') buf[nbuf++] = (char) c; else break;\n\"",["if",[">",["$",".Machine","sizeof.pointer"],"4"],["withAutoprint",["{",["system.time",["<-","x",["readLines","tf"]]],["str",["<-","ncx",["nchar","x","\"bytes\""]]],["tail","ncx"],["table","ncx"],["head",["<-","iL",["which",["==","ncx","4075"]]]],["stopifnot",["==",["diff","iL"],"21"]]]],["cat","\"32-bit: still seg.faulting - FIXME\\n\""]]]]]],["if",[">","availableGB","21"],["system.time",["{",["<-","res",["c",{"a":["raw","2"]},["raw",["-",["^","2","31"],"1"]]]]]]],["if","FALSE",["{",["<-","os",["object.size","res"]]],["{",["<-","os",["structure","19327353184",{"class":"\"object_size\""}]],["print","os",{"units":"\"GB\""}]]],["if",["exists","\"res\""],["rm","res"]],["gc",{"reset":"TRUE"}],["if",[">","availableGB","37"],["system.time",["{",["<-","res",["c",{"a":["list",["rep",["c",{"b":["raw","1"]}],["-",["^","2","31"],"2"]],["raw","2"]]},{"recursive":"TRUE"}]]]]],["if",["exists","\"res\""],["withAutoprint",["{",["str","res"],["gc",{}],["rm","res"]]]],["gc",{"reset":"TRUE"}],["if",[">","availableGB","4"],["system.time",["local",["withAutoprint",["{",["<-","txt",["strrep","\"test me:\"","53687091"]],["object.size","txt"],["<-","nc",["nchar","txt"]],["+",["*","nc","5L"],"8L"],["<-","en",["encodeString","txt"]],["stopifnot",["identical","txt","en"]]]]]]],["if",[">","availableGB","6"],["system.time",["withAutoprint",["{",["<-","r",["pretty",["*",["c",["-","1"],"1"],"1e300"],{"n":"449423288"},{"min.n":"1"}]],["head","r"],["length","r"],["stopifnot",["all.equal",["length","r"],"400000001",{"tol":"0.1"}]]]]]],["rm","r"],["gc",{}],["<-","n","4e4"],["<-","n","2.2e9"],["if",[">","availableGB","60"],["withAutoprint",["{",["/","n",["$",".Machine","integer.max"]],["<-","ii",["seq_len","n"]],["system.time",["<-","ii",["+","ii","0"]]],["system.time",["<-","i2",["[","ii",["-","n"]]]]]]],["if",[">","availableGB","99"],["withAutoprint",["{",["system.time",["<-","x",["/","ii","n"]]],["system.time",["<-","y",["sin",["*","pi","x"]]]],["system.time",["<-","sorted",["!",["is.unsorted","x"]]]],["stopifnot","sorted"],["system.time",["<-","ap1",["approx","x","y",{"ties":"\"ordered\""}]]],["stopifnot",{"exprs":["{",["is.list","ap1"],["==",["names","ap1"],["c","\"x\"","\"y\""]],["==",["length",["$","ap1","x"]],"50"],["all.equal",["$","ap1","y"],["sin",["*","pi",["$","ap1","x"]]],{"tol":"1e-9"}]]}],["rm","ap1"],["gc",{}]]]],["if",[">","availableGB","165"],["withAutoprint",["{",["system.time",["<-","iis",["which",["<-","isMl",["<","ii","9999"]]]]],["gc",{}],["system.time",["<-","r",["ifelse","isMl","ii",["*","ii","1.125"]]]],["stopifnot",{"exprs":["{",["==",["length","r"],"n"],["==","iis",["seq_len","9998"]]]}],["rm","isMl","iis","r"]]]],["gc",{}],["if",[">","availableGB","211"],["withAutoprint",["{",["system.time",["<-","xo",["+","x",["/","1",["(",["*","2","n"]]]]]],["system.time",["<-","ap",["approx","x","y",{"ties":"\"ordered\""},{"xout":"xo"}]]],["gc",{"reset":"TRUE"}],["stopifnot",{"exprs":["{",["is.list","ap"],["==",["names","ap"],["c","\"x\"","\"y\""]],["==",["length",["$","ap","x"]],"n"],["is.na",["[",["$","ap","y"],"n"]],["all.equal",["[",["$","ap","y"],"i2"],["sin",["*","pi",["[","xo","i2"]]],{"tol":["if",["<","n","1e7"],"1e-8","1e-15"]}]]}],["rm","ap"],["gc",{}],["system.time",["<-","apf",["approxfun","x","y",{"ties":"\"ordered\""},{"rule":"2"}]]],["<-","xi",["seq","0","1",{"by":["^","2",["-","12"]]}]],["stopifnot",["all.equal",["apf","xi"],["sin",["*","pi","xi"]],{"tol":["if",["<","n","1e7"],"1e-7","1e-11"]}]],["rm","apf"],["gc",{}],["system.time",["<-","ssf",["splinefun","x","y",{"ties":"\"ordered\""}]]],["system.time",["<-","ss",["spline","x","y",{"ties":"\"ordered\""},{"xout":"xi"}]]],["gc",{}],["stopifnot",{"exprs":["{",["is.list","ss"],["==",["names","ss"],["c","\"x\"","\"y\""]],["==",["length",["$","ss","y"]],["length","xi"]],["all.equal",["$","ss","y"],["sin",["*","pi","xi"]],{"tol":"1e-15"}],["all.equal",["ssf","xi"],["$","ss","y"],{"tol":"1e-15"}]]}],["rm","x","y","xo","ss","ssf"],["gc",{"reset":"TRUE"}]]]],["if",[">","availableGB","24"],["withAutoprint",["{",["system.time",["<-","L",["rep.int",["==",["%%",["(",[":","0","15"]],"7"],"2"],["^","2","28"]]]],["print",["object.size","L"],{"unit":"\"GB\""}],["system.time",["<-","sL",["sum","L"]]],["stopifnot",{"exprs":["{",["is.logical","L"],["==",["length","L"],["^","2","32"]],["!",["is.integer",["length","L"]]],["is.integer","sL"],["identical","sL",["as.integer",["^","2","29"]]]]}]]]],["gc",{"reset":"TRUE"}],["<-","L",["as.integer",["-",["^","2","31"],"1"]]],["if",[">","availableGB","12"],["withAutoprint",["{",["system.time",["<-","x31",["rep.int","L",["+",["^","2","31"],"1"]]]],["print",["object.size","x31"],{"unit":"\"GB\""}],["system.time",["<-","S",["sum","x31"]]],["system.time",["<-","S.4",["sum","x31","x31","x31","x31"]]],["stopifnot",["is.integer","x31"],["identical","S",["^","2","62"]],["identical","S.4",["^","2","64"]]],["system.time",["<-","x32",["c","x31","x31"]]],["rm","x31"],["system.time",["<-","S.2",["sum","x32"]]],["stopifnot",["==","S.2",["^","2","63"]]],["rm","x32"]]]],["if",[">","availableGB","16"],["withAutoprint",["{",["<-","i",["as.integer",["^","2","30"]]],["system.time",["<-","i2.31",["seq",["-","i"],{"by":"1L"},{"length":["+",["*","2","i"],"1"]}]]],["object.size","i2.31"],["stopifnot",["is.integer","i2.31"],["==",["[","i2.31","1"],["-","i"]],["==",["[","i2.31",["length","i2.31"]],"i"]],["if",[">","availableGB","24"],["withAutoprint",["{",["system.time",["<-","i2.31",["pmin","i2.31","0L"]]],["str","i2.31"],["system.time",["stopifnot",["==",["[","i2.31",[":",["(",["+","i","1"]],["length","i2.31"]]],"0"]]]]]]]]],["if",[">","availableGB","44"],["withAutoprint",["{",["system.time",["<-","m",["match",["rep","\"a\"",["^","2","31"]],"\"a\""]]],["stopifnot",["all",["==","m","1L"]]],["rm","m"],["system.time",["{",["<-","x",["character",["^","2","31"]]],["<-",["[","x",[":","26","1"]],"letters"]]],["system.time",["<-","m",["match","x","\"a\""]]],["head","m","30"],["system.time",["stopifnot",["==",["[","m","26"],"1L"],["is.na",["[","m",["-","26"]]]]],["rm","x","m"]]]],["if",[">","availableGB","14"],["withAutoprint",["{",["<-","vec",["rep","0","3e8"]],["<-","raw_con",["rawConnection",["serialize","vec","NULL"]]],["repeat",["{",["<-","x",["readBin","raw_con","\"raw\"",{"n":"1e+06"}]],["if",["==",["length","x"],"0"],["break"]],["cat","\".\""]]],["cat","\"\\n\""]]]],["if",[">","availableGB","20"],["withAutoprint",["{",["<-","x",["raw",["^","2","31"]]],["writeBin","x",{"con":["nullfile",{}]}],["<-","con",["rawConnection",["raw","0L"],"\"w\""]],["writeBin","x",{"con":"con"}],["stopifnot",["identical","x",["rawConnectionValue","con"]]],["system.time",["<-","x",["*","pi",["seq_len",["*","2.1",["^","2","30"]]]]]],["<-","zzfil",["tempfile","\"test-large-bin\""]],["<-","zz",["file","zzfil","\"wb\""]],["system.time",["<-","z",["writeBin","x","zz"]]],["stopifnot",["is.null","z"]],["close","zz"],["<-","zz",["file","zzfil","\"rb\""]],["system.time",["<-","r",["readBin","zz",["double",{}],{"n":["+",["length","x"],"999"]}]]],["system.time",["stopifnot",["identical","x","r"]]],["close","zz"],["rm","r","zz"]]]],["<-","mkDat",["function",[{"n":""}],["{",["<-","x",["/",["*","5",["(",[":","1","n"]]],["(",["+","n","1"]]]],["data.frame",{"x":"x"},{"y":["+",["*",["sin",["*","pi",["^","x","2"]]],["exp",["/",["-","x"],"2"]]],["/",["rnorm","n"],"8"]]}]]]],["set.seed","1"],["<-","dat",["mkDat",{"n":"42000"}]],["system.time",["<-","fit",["loess",["~","y","x"],{"data":"dat"}]]],["<-","r",[["::","tools","assertError"],["predict","fit",{"newdata":["data.frame",{"x":".5"}]},{"se":"TRUE"}],{"verbose":"TRUE"}]],["stopifnot",["grepl","\"^workspace .* is too large .* 'se = TRUE'\"",["$",["[[","r","1"],"message"]]],["gc",{}],["proc.time",{}]]
